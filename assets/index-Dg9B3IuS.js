(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Vd={exports:{}},gl={};var P_;function US(){if(P_)return gl;P_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return gl.Fragment=t,gl.jsx=i,gl.jsxs=i,gl}var k_;function LS(){return k_||(k_=1,Vd.exports=US()),Vd.exports}var nt=LS(),Md={exports:{}},_t={};var z_;function PS(){if(z_)return _t;z_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,J={};function ft(O,Y,tt){this.props=O,this.context=Y,this.refs=J,this.updater=tt||Z}ft.prototype.isReactComponent={},ft.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},ft.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Et(){}Et.prototype=ft.prototype;function pt(O,Y,tt){this.props=O,this.context=Y,this.refs=J,this.updater=tt||Z}var Qt=pt.prototype=new Et;Qt.constructor=pt,et(Qt,ft.prototype),Qt.isPureReactComponent=!0;var Wt=Array.isArray;function Ut(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(O,Y,tt){var st=tt.ref;return{$$typeof:r,type:O,key:Y,ref:st!==void 0?st:null,props:tt}}function M(O,Y){return I(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(tt){return Y[tt]})}var w=/\/+/g;function ie(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Y.toString(36)}function Ce(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ut,Ut):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Y,tt,st,gt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var Mt=!1;if(O===null)Mt=!0;else switch(St){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(O.$$typeof){case r:case t:Mt=!0;break;case A:return Mt=O._init,H(Mt(O._payload),Y,tt,st,gt)}}if(Mt)return gt=gt(O),Mt=st===""?"."+ie(O,0):st,Wt(gt)?(tt="",Mt!=null&&(tt=Mt.replace(w,"$&/")+"/"),H(gt,Y,tt,"",function(rs){return rs})):gt!=null&&(N(gt)&&(gt=M(gt,tt+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(w,"$&/")+"/")+Mt)),Y.push(gt)),1;Mt=0;var De=st===""?".":st+":";if(Wt(O))for(var re=0;re<O.length;re++)st=O[re],St=De+ie(st,re),Mt+=H(st,Y,tt,St,gt);else if(re=F(O),typeof re=="function")for(O=re.call(O),re=0;!(st=O.next()).done;)st=st.value,St=De+ie(st,re++),Mt+=H(st,Y,tt,St,gt);else if(St==="object"){if(typeof O.then=="function")return H(Ce(O),Y,tt,st,gt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function W(O,Y,tt){if(O==null)return O;var st=[],gt=0;return H(O,st,"","",function(St){return Y.call(tt,St,gt++)}),st}function ct(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(tt){(O._status===0||O._status===-1)&&(O._status=1,O._result=tt)},function(tt){(O._status===0||O._status===-1)&&(O._status=2,O._result=tt)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},jt={map:W,forEach:function(O,Y,tt){W(O,function(){Y.apply(this,arguments)},tt)},count:function(O){var Y=0;return W(O,function(){Y++}),Y},toArray:function(O){return W(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return _t.Activity=S,_t.Children=jt,_t.Component=ft,_t.Fragment=i,_t.Profiler=l,_t.PureComponent=pt,_t.StrictMode=s,_t.Suspense=y,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,_t.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},_t.cache=function(O){return function(){return O.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(O,Y,tt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=et({},O.props),gt=O.key;if(Y!=null)for(St in Y.key!==void 0&&(gt=""+Y.key),Y)!b.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(st[St]=Y[St]);var St=arguments.length-2;if(St===1)st.children=tt;else if(1<St){for(var Mt=Array(St),De=0;De<St;De++)Mt[De]=arguments[De+2];st.children=Mt}return I(O.type,gt,st)},_t.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},_t.createElement=function(O,Y,tt){var st,gt={},St=null;if(Y!=null)for(st in Y.key!==void 0&&(St=""+Y.key),Y)b.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(gt[st]=Y[st]);var Mt=arguments.length-2;if(Mt===1)gt.children=tt;else if(1<Mt){for(var De=Array(Mt),re=0;re<Mt;re++)De[re]=arguments[re+2];gt.children=De}if(O&&O.defaultProps)for(st in Mt=O.defaultProps,Mt)gt[st]===void 0&&(gt[st]=Mt[st]);return I(O,St,gt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(O){return{$$typeof:p,render:O}},_t.isValidElement=N,_t.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ct}},_t.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},_t.startTransition=function(O){var Y=C.T,tt={};C.T=tt;try{var st=O(),gt=C.S;gt!==null&&gt(tt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Ut,Lt)}catch(St){Lt(St)}finally{Y!==null&&tt.types!==null&&(Y.types=tt.types),C.T=Y}},_t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},_t.use=function(O){return C.H.use(O)},_t.useActionState=function(O,Y,tt){return C.H.useActionState(O,Y,tt)},_t.useCallback=function(O,Y){return C.H.useCallback(O,Y)},_t.useContext=function(O){return C.H.useContext(O)},_t.useDebugValue=function(){},_t.useDeferredValue=function(O,Y){return C.H.useDeferredValue(O,Y)},_t.useEffect=function(O,Y){return C.H.useEffect(O,Y)},_t.useEffectEvent=function(O){return C.H.useEffectEvent(O)},_t.useId=function(){return C.H.useId()},_t.useImperativeHandle=function(O,Y,tt){return C.H.useImperativeHandle(O,Y,tt)},_t.useInsertionEffect=function(O,Y){return C.H.useInsertionEffect(O,Y)},_t.useLayoutEffect=function(O,Y){return C.H.useLayoutEffect(O,Y)},_t.useMemo=function(O,Y){return C.H.useMemo(O,Y)},_t.useOptimistic=function(O,Y){return C.H.useOptimistic(O,Y)},_t.useReducer=function(O,Y,tt){return C.H.useReducer(O,Y,tt)},_t.useRef=function(O){return C.H.useRef(O)},_t.useState=function(O){return C.H.useState(O)},_t.useSyncExternalStore=function(O,Y,tt){return C.H.useSyncExternalStore(O,Y,tt)},_t.useTransition=function(){return C.H.useTransition()},_t.version="19.2.3",_t}var B_;function wm(){return B_||(B_=1,Md.exports=PS()),Md.exports}var Xn=wm(),xd={exports:{}},yl={},Ud={exports:{}},Ld={};var q_;function kS(){return q_||(q_=1,(function(r){function t(H,W){var ct=H.length;H.push(W);t:for(;0<ct;){var Lt=ct-1>>>1,jt=H[Lt];if(0<l(jt,W))H[Lt]=W,H[ct]=jt,ct=Lt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var W=H[0],ct=H.pop();if(ct!==W){H[0]=ct;t:for(var Lt=0,jt=H.length,O=jt>>>1;Lt<O;){var Y=2*(Lt+1)-1,tt=H[Y],st=Y+1,gt=H[st];if(0>l(tt,ct))st<jt&&0>l(gt,tt)?(H[Lt]=gt,H[st]=ct,Lt=st):(H[Lt]=tt,H[Y]=ct,Lt=Y);else if(st<jt&&0>l(gt,ct))H[Lt]=gt,H[st]=ct,Lt=st;else break t}}return W}function l(H,W){var ct=H.sortIndex-W.sortIndex;return ct!==0?ct:H.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,S=null,V=3,F=!1,Z=!1,et=!1,J=!1,ft=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Qt(H){for(var W=i(_);W!==null;){if(W.callback===null)s(_);else if(W.startTime<=H)s(_),W.sortIndex=W.expirationTime,t(y,W);else break;W=i(_)}}function Wt(H){if(et=!1,Qt(H),!Z)if(i(y)!==null)Z=!0,Ut||(Ut=!0,U());else{var W=i(_);W!==null&&Ce(Wt,W.startTime-H)}}var Ut=!1,C=-1,b=5,I=-1;function M(){return J?!0:!(r.unstable_now()-I<b)}function N(){if(J=!1,Ut){var H=r.unstable_now();I=H;var W=!0;try{t:{Z=!1,et&&(et=!1,Et(C),C=-1),F=!0;var ct=V;try{e:{for(Qt(H),S=i(y);S!==null&&!(S.expirationTime>H&&M());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,V=S.priorityLevel;var jt=Lt(S.expirationTime<=H);if(H=r.unstable_now(),typeof jt=="function"){S.callback=jt,Qt(H),W=!0;break e}S===i(y)&&s(y),Qt(H)}else s(y);S=i(y)}if(S!==null)W=!0;else{var O=i(_);O!==null&&Ce(Wt,O.startTime-H),W=!1}}break t}finally{S=null,V=ct,F=!1}W=void 0}}finally{W?U():Ut=!1}}}var U;if(typeof pt=="function")U=function(){pt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=N,U=function(){ie.postMessage(null)}}else U=function(){ft(N,0)};function Ce(H,W){C=ft(function(){H(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(H){switch(V){case 1:case 2:case 3:var W=3;break;default:W=V}var ct=V;V=W;try{return H()}finally{V=ct}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ct=V;V=H;try{return W()}finally{V=ct}},r.unstable_scheduleCallback=function(H,W,ct){var Lt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Lt+ct:Lt):ct=Lt,H){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=ct+jt,H={id:A++,callback:W,priorityLevel:H,startTime:ct,expirationTime:jt,sortIndex:-1},ct>Lt?(H.sortIndex=ct,t(_,H),i(y)===null&&H===i(_)&&(et?(Et(C),C=-1):et=!0,Ce(Wt,ct-Lt))):(H.sortIndex=jt,t(y,H),Z||F||(Z=!0,Ut||(Ut=!0,U()))),H},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(H){var W=V;return function(){var ct=V;V=W;try{return H.apply(this,arguments)}finally{V=ct}}}})(Ld)),Ld}var j_;function zS(){return j_||(j_=1,Ud.exports=kS()),Ud.exports}var Pd={exports:{}},Ke={};var H_;function BS(){if(H_)return Ke;H_=1;var r=wm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},Ke.flushSync=function(y){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=_,s.p=A,s.d.f()}},Ke.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},Ke.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ke.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:F}):A==="script"&&s.d.X(y,{crossOrigin:S,integrity:V,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ke.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},Ke.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin);s.d.L(y,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ke.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},Ke.requestFormReset=function(y){s.d.r(y)},Ke.unstable_batchedUpdates=function(y,_){return y(_)},Ke.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var F_;function qS(){if(F_)return Pd.exports;F_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Pd.exports=BS(),Pd.exports}var G_;function jS(){if(G_)return yl;G_=1;var r=zS(),t=wm(),i=qS();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(s(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),Qt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ft:return"Profiler";case J:return"StrictMode";case Wt:return"Suspense";case Ut:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case pt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var Ce=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Lt=[],jt=-1;function O(e){return{current:e}}function Y(e){0>jt||(e.current=Lt[jt],Lt[jt]=null,jt--)}function tt(e,n){jt++,Lt[jt]=e.current,e.current=n}var st=O(null),gt=O(null),St=O(null),Mt=O(null);function De(e,n){switch(tt(St,n),tt(gt,e),tt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?a_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=a_(n),e=o_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),tt(st,e)}function re(){Y(st),Y(gt),Y(St)}function rs(e){e.memoizedState!==null&&tt(Mt,e);var n=st.current,a=o_(n,e.type);n!==a&&(tt(gt,e),tt(st,a))}function Zs(e){gt.current===e&&(Y(st),Y(gt)),Mt.current===e&&(Y(Mt),fl._currentValue=ct)}var Js,$s;function ti(e){if(Js===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Js=n&&n[1]||"",$s=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Js+e+$s}var ho=!1;function ss(e,n){if(!e||ho)return"";ho=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var z=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){z=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){z=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),k=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===k.length)for(o=R.length-1,h=k.length-1;1<=o&&0<=h&&R[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==k[h]){var j=`
`+R[o].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=o&&0<=h);break}}}finally{ho=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ti(a):""}function fo(e,n){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return ss(e.type,!1);case 11:return ss(e.type.render,!1);case 1:return ss(e.type,!0);case 31:return ti("Activity");default:return""}}function mo(e){try{var n="",a=null;do n+=fo(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,Ne=r.unstable_scheduleCallback,ir=r.unstable_cancelCallback,Mh=r.unstable_shouldYield,tu=r.unstable_requestPaint,$e=r.unstable_now,as=r.unstable_getCurrentPriorityLevel,po=r.unstable_ImmediatePriority,go=r.unstable_UserBlockingPriority,rr=r.unstable_NormalPriority,xh=r.unstable_LowPriority,eu=r.unstable_IdlePriority,nu=r.log,iu=r.unstable_setDisableYieldValue,Ln=null,Pe=null;function Tn(e){if(typeof nu=="function"&&iu(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Ln,e)}catch{}}var he=Math.clz32?Math.clz32:su,ru=Math.log,Ws=Math.LN2;function su(e){return e>>>=0,e===0?32:31-(ru(e)/Ws|0)|0}var ei=256,os=262144,ye=4194304;function ni(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ni(o):(g&=E,g!==0?h=ni(g):a||(a=E&~e,a!==0&&(h=ni(a))))):(E=o&~f,E!==0?h=ni(E):g!==0?h=ni(g):a||(a=o&~e,a!==0&&(h=ni(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Pn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Uh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ri(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ls(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Lh(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,k=e.hiddenUpdates;for(a=g&~a;0<a;){var j=31-he(a),K=1<<j;E[j]=0,R[j]=-1;var z=k[j];if(z!==null)for(k[j]=null,j=0;j<z.length;j++){var q=z[j];q!==null&&(q.lane&=-536870913)}a&=~K}o!==0&&us(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function us(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function yo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-he(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function _o(e,n){var a=n&-n;return a=(a&42)!==0?1:cs(a),(a&(e.suspendedLanes|n))!==0?0:a}function cs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ou(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:N_(e.type))}function kn(e,n){var a=W.p;try{return W.p=e,n()}finally{W.p=a}}var zn=Math.random().toString(36).slice(2),_e="__reactFiber$"+zn,Me="__reactProps$"+zn,si="__reactContainer$"+zn,ta="__reactEvents$"+zn,Ph="__reactListeners$"+zn,lu="__reactHandles$"+zn,uu="__reactResources$"+zn,ai="__reactMarker$"+zn;function ea(e){delete e[_e],delete e[Me],delete e[ta],delete e[Ph],delete e[lu]}function oi(e){var n=e[_e];if(n)return n;for(var a=e.parentNode;a;){if(n=a[si]||a[_e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=m_(e);e!==null;){if(a=e[_e])return a;e=m_(e)}return n}e=a,a=e.parentNode}return null}function An(e){if(e=e[_e]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function hn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function li(e){var n=e[uu];return n||(n=e[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[ai]=!0}var vo=new Set,Eo={};function ui(e,n){ci(e,n),ci(e+"Capture",n)}function ci(e,n){for(Eo[e]=n,e=0;e<n.length;e++)vo.add(n[e])}var To=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},So={};function cu(e){return ge.call(So,e)?!0:ge.call(Ao,e)?!1:To.test(e)?So[e]=!0:(Ao[e]=!0,!1)}function na(e,n,a){if(cu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function fn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ee(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ht(e){if(!e._valueTracker){var n=sr(e)?"checked":"value";e._valueTracker=bo(e,n,""+e[n])}}function hs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=sr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fs=/[\n"\\]/g;function en(e){return e.replace(fs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(e,n,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xe(n)):e.value!==""+xe(n)&&(e.value=""+xe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?wo(e,g,xe(n)):a!=null?wo(e,g,xe(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+xe(E):e.removeAttribute("name")}function hu(e,n,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ht(e);return}a=a!=null?""+xe(a):"",n=n!=null?""+xe(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ht(e)}function wo(e,n,a){n==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ar(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+xe(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function fu(e,n,a){if(n!=null&&(n=""+xe(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+xe(a):""}function or(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(Ce(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=xe(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Ht(e)}function nn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ro(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||du.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Io(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Ro(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ro(e,f,n[f])}function ra(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return lr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var Co=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ur=null,fi=null;function ds(e){var n=An(e);if(n&&(e=n.stateNode)){var a=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(ia(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(s(90));ia(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&hs(o)}break t;case"textarea":fu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ar(e,!!a.multiple,n,!1)}}}var aa=!1;function cr(e,n,a){if(aa)return e(n,a);aa=!0;try{var o=e(n);return o}finally{if(aa=!1,(ur!==null||fi!==null)&&(oc(),ur&&(n=ur,e=fi,fi=ur=null,ds(n),e)))for(n=0;n<e.length;n++)ds(e[n])}}function qn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Me]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ms=!1;if(bn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){ms=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{ms=!1}var di=null,Do=null,ps=null;function No(){if(ps)return ps;var e,n=Do,a=n.length,o,h="value"in di?di.value:di.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return ps=h.slice(e,1<o?1-o:void 0)}function gs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function jn(){return!1}function ke(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:jn,this.isPropagationStopped=jn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=ke(Vi),hr=S({},Vi,{view:0,detail:0}),Oo=ke(hr),fr,oa,pi,la=S({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(fr=e.screenX-pi.screenX,oa=e.screenY-pi.screenY):oa=fr=0,pi=e),fr)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),Vo=ke(la),ys=S({},la,{dataTransfer:0}),pu=ke(ys),gu=S({},hr,{relatedTarget:0}),_s=ke(gu),Mo=S({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=ke(Mo),ua=S({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_u=ke(ua),vu=S({},Vi,{data:0}),gi=ke(vu),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Au[e])?!!n[e]:!1}function dr(){return Su}var We=S({},hr,{key:function(e){if(e.key){var n=Eu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(e){return e.type==="keypress"?gs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=ke(We),wu=S({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=ke(wu),u=S({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),m=ke(u),v=S({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ke(v),L=S({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ke(L),$=S({},Vi,{newState:0,oldState:0}),Tt=ke($),fe=[9,13,27,32],zt=bn&&"CompositionEvent"in window,se=null;bn&&"documentMode"in document&&(se=document.documentMode);var wn=bn&&"TextEvent"in window&&!se,yi=bn&&(!zt||se&&8<se&&11>=se),Hn=" ",Fn=!1;function vs(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function sA(e,n){switch(e){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(Fn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Fn?null:e;default:return null}}function aA(e,n){if(ha)return e==="compositionend"||!zt&&vs(e,n)?(e=No(),ps=Do=di=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var oA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!oA[e.type]:n==="textarea"}function _p(e,n,a,o){ur?fi?fi.push(o):fi=[o]:ur=o,n=mc(n,"onChange"),0<n.length&&(a=new mi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var xo=null,Uo=null;function lA(e){t_(e,0)}function Ru(e){var n=hn(e);if(hs(n))return e}function vp(e,n){if(e==="change")return n}var Ep=!1;if(bn){var kh;if(bn){var zh="oninput"in document;if(!zh){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),zh=typeof Tp.oninput=="function"}kh=zh}else kh=!1;Ep=kh&&(!document.documentMode||9<document.documentMode)}function Ap(){xo&&(xo.detachEvent("onpropertychange",Sp),Uo=xo=null)}function Sp(e){if(e.propertyName==="value"&&Ru(Uo)){var n=[];_p(n,Uo,e,Sn(e)),cr(lA,n)}}function uA(e,n,a){e==="focusin"?(Ap(),xo=n,Uo=a,xo.attachEvent("onpropertychange",Sp)):e==="focusout"&&Ap()}function cA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(Uo)}function hA(e,n){if(e==="click")return Ru(n)}function fA(e,n){if(e==="input"||e==="change")return Ru(n)}function dA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:dA;function Lo(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ge.call(n,h)||!dn(e[h],n[h]))return!1}return!0}function bp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wp(e,n){var a=bp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=bp(a)}}function Rp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Rp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ip(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=hi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=hi(e.document)}return n}function Bh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var mA=bn&&"documentMode"in document&&11>=document.documentMode,fa=null,qh=null,Po=null,jh=!1;function Cp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jh||fa==null||fa!==hi(o)||(o=fa,"selectionStart"in o&&Bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Po&&Lo(Po,o)||(Po=o,o=mc(qh,"onSelect"),0<o.length&&(n=new mi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=fa)))}function Es(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var da={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionrun:Es("Transition","TransitionRun"),transitionstart:Es("Transition","TransitionStart"),transitioncancel:Es("Transition","TransitionCancel"),transitionend:Es("Transition","TransitionEnd")},Hh={},Dp={};bn&&(Dp=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Ts(e){if(Hh[e])return Hh[e];if(!da[e])return e;var n=da[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Dp)return Hh[e]=n[a];return e}var Np=Ts("animationend"),Op=Ts("animationiteration"),Vp=Ts("animationstart"),pA=Ts("transitionrun"),gA=Ts("transitionstart"),yA=Ts("transitioncancel"),Mp=Ts("transitionend"),xp=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function Gn(e,n){xp.set(e,n),ui(n,[e])}var Iu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],ma=0,Gh=0;function Cu(){for(var e=ma,n=Gh=ma=0;n<e;){var a=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Up(a,h,f)}}function Du(e,n,a,o){Rn[ma++]=e,Rn[ma++]=n,Rn[ma++]=a,Rn[ma++]=o,Gh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Qh(e,n,a,o){return Du(e,n,a,o),Nu(e)}function As(e,n){return Du(e,null,null,n),Nu(e)}function Up(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Nu(e){if(50<sl)throw sl=0,nd=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var pa={};function _A(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,a,o){return new _A(e,n,a,o)}function Kh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xi(e,n){var a=e.alternate;return a===null?(a=mn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Lp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ou(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")Kh(e)&&(g=1);else if(typeof e=="string")g=SS(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=mn(31,a,n,h),e.elementType=I,e.lanes=f,e;case et:return Ss(a.children,h,f,n);case J:g=8,h|=24;break;case ft:return e=mn(12,a,n,h|2),e.elementType=ft,e.lanes=f,e;case Wt:return e=mn(13,a,n,h),e.elementType=Wt,e.lanes=f,e;case Ut:return e=mn(19,a,n,h),e.elementType=Ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:g=10;break t;case Et:g=9;break t;case Qt:g=11;break t;case C:g=14;break t;case b:g=16,o=null;break t}g=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=mn(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ss(e,n,a,o){return e=mn(7,e,o,n),e.lanes=a,e}function Yh(e,n,a){return e=mn(6,e,null,n),e.lanes=a,e}function Pp(e){var n=mn(18,null,null,0);return n.stateNode=e,n}function Xh(e,n,a){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var kp=new WeakMap;function In(e,n){if(typeof e=="object"&&e!==null){var a=kp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:mo(n)},kp.set(e,n),n)}return{value:e,source:n,stack:mo(n)}}var ga=[],ya=0,Vu=null,ko=0,Cn=[],Dn=0,mr=null,_i=1,vi="";function Ui(e,n){ga[ya++]=ko,ga[ya++]=Vu,Vu=e,ko=n}function zp(e,n,a){Cn[Dn++]=_i,Cn[Dn++]=vi,Cn[Dn++]=mr,mr=e;var o=_i;e=vi;var h=32-he(o)-1;o&=~(1<<h),a+=1;var f=32-he(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,_i=1<<32-he(n)+h|a<<h|o,vi=f+e}else _i=1<<f|a<<h|o,vi=e}function Zh(e){e.return!==null&&(Ui(e,1),zp(e,1,0))}function Jh(e){for(;e===Vu;)Vu=ga[--ya],ga[ya]=null,ko=ga[--ya],ga[ya]=null;for(;e===mr;)mr=Cn[--Dn],Cn[Dn]=null,vi=Cn[--Dn],Cn[Dn]=null,_i=Cn[--Dn],Cn[Dn]=null}function Bp(e,n){Cn[Dn++]=_i,Cn[Dn++]=vi,Cn[Dn++]=mr,_i=n.id,vi=n.overflow,mr=e}var ze=null,te=null,Vt=!1,pr=null,Nn=!1,$h=Error(s(519));function gr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(In(n,e)),$h}function qp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[_e]=e,n[Me]=o,a){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(a=0;a<ol.length;a++)Rt(ol[a],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),hu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),or(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||r_(n.textContent,a)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||gr(e,!0)}function jp(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:ze=ze.return}}function _a(e){if(e!==ze)return!1;if(!Vt)return jp(e),Vt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||yd(e.type,e.memoizedProps)),a=!a),a&&te&&gr(e),jp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=d_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=d_(e)}else n===27?(n=te,Nr(e.type)?(e=Ad,Ad=null,te=e):te=n):te=ze?Vn(e.stateNode.nextSibling):null;return!0}function bs(){te=ze=null,Vt=!1}function Wh(){var e=pr;return e!==null&&(on===null?on=e:on.push.apply(on,e),pr=null),e}function zo(e){pr===null?pr=[e]:pr.push(e)}var tf=O(null),ws=null,Li=null;function yr(e,n,a){tt(tf,n._currentValue),n._currentValue=a}function Pi(e){e._currentValue=tf.current,Y(tf)}function ef(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function nf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),ef(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),ef(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function va(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;dn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Mt.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}h=h.return}e!==null&&nf(n,e,a,o),n.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rs(e){ws=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Hp(ws,e)}function xu(e,n){return ws===null&&Rs(e),Hp(e,n)}function Hp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Li===null){if(e===null)throw Error(s(308));Li=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Li=Li.next=n;return a}var vA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},EA=r.unstable_scheduleCallback,TA=r.unstable_NormalPriority,Te={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new vA,data:new Map,refCount:0}}function Bo(e){e.refCount--,e.refCount===0&&EA(TA,function(){e.controller.abort()})}var qo=null,sf=0,Ea=0,Ta=null;function AA(e,n){if(qo===null){var a=qo=[];sf=0,Ea=ld(),Ta={status:"pending",value:void 0,then:function(o){a.push(o)}}}return sf++,n.then(Fp,Fp),n}function Fp(){if(--sf===0&&qo!==null){Ta!==null&&(Ta.status="fulfilled");var e=qo;qo=null,Ea=0,Ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function SA(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Gp=H.S;H.S=function(e,n){Cy=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&AA(e,n),Gp!==null&&Gp(e,n)};var Is=O(null);function af(){var e=Is.current;return e!==null?e:Jt.pooledCache}function Uu(e,n){n===null?tt(Is,Is.current):tt(Is,n.pool)}function Qp(){var e=af();return e===null?null:{parent:Te._currentValue,pool:e}}var Aa=Error(s(460)),of=Error(s(474)),Lu=Error(s(542)),Pu={then:function(){}};function Kp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Bn,Bn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zp(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zp(e),e}throw Ds=n,Aa}}function Cs(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ds=a,Aa):a}}var Ds=null;function Xp(){if(Ds===null)throw Error(s(459));var e=Ds;return Ds=null,e}function Zp(e){if(e===Aa||e===Lu)throw Error(s(483))}var Sa=null,jo=0;function ku(e){var n=jo;return jo+=1,Sa===null&&(Sa=[]),Yp(Sa,e,n)}function Ho(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zu(e,n){throw n.$$typeof===V?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Jp(e){function n(x,D){if(e){var P=x.deletions;P===null?(x.deletions=[D],x.flags|=16):P.push(D)}}function a(x,D){if(!e)return null;for(;D!==null;)n(x,D),D=D.sibling;return null}function o(x){for(var D=new Map;x!==null;)x.key!==null?D.set(x.key,x):D.set(x.index,x),x=x.sibling;return D}function h(x,D){return x=xi(x,D),x.index=0,x.sibling=null,x}function f(x,D,P){return x.index=P,e?(P=x.alternate,P!==null?(P=P.index,P<D?(x.flags|=67108866,D):P):(x.flags|=67108866,D)):(x.flags|=1048576,D)}function g(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,D,P,G){return D===null||D.tag!==6?(D=Yh(P,x.mode,G),D.return=x,D):(D=h(D,P),D.return=x,D)}function R(x,D,P,G){var lt=P.type;return lt===et?j(x,D,P.props.children,G,P.key):D!==null&&(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Cs(lt)===D.type)?(D=h(D,P.props),Ho(D,P),D.return=x,D):(D=Ou(P.type,P.key,P.props,null,x.mode,G),Ho(D,P),D.return=x,D)}function k(x,D,P,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Xh(P,x.mode,G),D.return=x,D):(D=h(D,P.children||[]),D.return=x,D)}function j(x,D,P,G,lt){return D===null||D.tag!==7?(D=Ss(P,x.mode,G,lt),D.return=x,D):(D=h(D,P),D.return=x,D)}function K(x,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Yh(""+D,x.mode,P),D.return=x,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return P=Ou(D.type,D.key,D.props,null,x.mode,P),Ho(P,D),P.return=x,P;case Z:return D=Xh(D,x.mode,P),D.return=x,D;case b:return D=Cs(D),K(x,D,P)}if(Ce(D)||U(D))return D=Ss(D,x.mode,P,null),D.return=x,D;if(typeof D.then=="function")return K(x,ku(D),P);if(D.$$typeof===pt)return K(x,xu(x,D),P);zu(x,D)}return null}function z(x,D,P,G){var lt=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return lt!==null?null:E(x,D,""+P,G);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===lt?R(x,D,P,G):null;case Z:return P.key===lt?k(x,D,P,G):null;case b:return P=Cs(P),z(x,D,P,G)}if(Ce(P)||U(P))return lt!==null?null:j(x,D,P,G,null);if(typeof P.then=="function")return z(x,D,ku(P),G);if(P.$$typeof===pt)return z(x,D,xu(x,P),G);zu(x,P)}return null}function q(x,D,P,G,lt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(P)||null,E(D,x,""+G,lt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case F:return x=x.get(G.key===null?P:G.key)||null,R(D,x,G,lt);case Z:return x=x.get(G.key===null?P:G.key)||null,k(D,x,G,lt);case b:return G=Cs(G),q(x,D,P,G,lt)}if(Ce(G)||U(G))return x=x.get(P)||null,j(D,x,G,lt,null);if(typeof G.then=="function")return q(x,D,P,ku(G),lt);if(G.$$typeof===pt)return q(x,D,P,xu(D,G),lt);zu(D,G)}return null}function at(x,D,P,G){for(var lt=null,Pt=null,ot=D,bt=D=0,Ct=null;ot!==null&&bt<P.length;bt++){ot.index>bt?(Ct=ot,ot=null):Ct=ot.sibling;var kt=z(x,ot,P[bt],G);if(kt===null){ot===null&&(ot=Ct);break}e&&ot&&kt.alternate===null&&n(x,ot),D=f(kt,D,bt),Pt===null?lt=kt:Pt.sibling=kt,Pt=kt,ot=Ct}if(bt===P.length)return a(x,ot),Vt&&Ui(x,bt),lt;if(ot===null){for(;bt<P.length;bt++)ot=K(x,P[bt],G),ot!==null&&(D=f(ot,D,bt),Pt===null?lt=ot:Pt.sibling=ot,Pt=ot);return Vt&&Ui(x,bt),lt}for(ot=o(ot);bt<P.length;bt++)Ct=q(ot,x,bt,P[bt],G),Ct!==null&&(e&&Ct.alternate!==null&&ot.delete(Ct.key===null?bt:Ct.key),D=f(Ct,D,bt),Pt===null?lt=Ct:Pt.sibling=Ct,Pt=Ct);return e&&ot.forEach(function(Ur){return n(x,Ur)}),Vt&&Ui(x,bt),lt}function ht(x,D,P,G){if(P==null)throw Error(s(151));for(var lt=null,Pt=null,ot=D,bt=D=0,Ct=null,kt=P.next();ot!==null&&!kt.done;bt++,kt=P.next()){ot.index>bt?(Ct=ot,ot=null):Ct=ot.sibling;var Ur=z(x,ot,kt.value,G);if(Ur===null){ot===null&&(ot=Ct);break}e&&ot&&Ur.alternate===null&&n(x,ot),D=f(Ur,D,bt),Pt===null?lt=Ur:Pt.sibling=Ur,Pt=Ur,ot=Ct}if(kt.done)return a(x,ot),Vt&&Ui(x,bt),lt;if(ot===null){for(;!kt.done;bt++,kt=P.next())kt=K(x,kt.value,G),kt!==null&&(D=f(kt,D,bt),Pt===null?lt=kt:Pt.sibling=kt,Pt=kt);return Vt&&Ui(x,bt),lt}for(ot=o(ot);!kt.done;bt++,kt=P.next())kt=q(ot,x,bt,kt.value,G),kt!==null&&(e&&kt.alternate!==null&&ot.delete(kt.key===null?bt:kt.key),D=f(kt,D,bt),Pt===null?lt=kt:Pt.sibling=kt,Pt=kt);return e&&ot.forEach(function(xS){return n(x,xS)}),Vt&&Ui(x,bt),lt}function Zt(x,D,P,G){if(typeof P=="object"&&P!==null&&P.type===et&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var lt=P.key;D!==null;){if(D.key===lt){if(lt=P.type,lt===et){if(D.tag===7){a(x,D.sibling),G=h(D,P.props.children),G.return=x,x=G;break t}}else if(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Cs(lt)===D.type){a(x,D.sibling),G=h(D,P.props),Ho(G,P),G.return=x,x=G;break t}a(x,D);break}else n(x,D);D=D.sibling}P.type===et?(G=Ss(P.props.children,x.mode,G,P.key),G.return=x,x=G):(G=Ou(P.type,P.key,P.props,null,x.mode,G),Ho(G,P),G.return=x,x=G)}return g(x);case Z:t:{for(lt=P.key;D!==null;){if(D.key===lt)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(x,D.sibling),G=h(D,P.children||[]),G.return=x,x=G;break t}else{a(x,D);break}else n(x,D);D=D.sibling}G=Xh(P,x.mode,G),G.return=x,x=G}return g(x);case b:return P=Cs(P),Zt(x,D,P,G)}if(Ce(P))return at(x,D,P,G);if(U(P)){if(lt=U(P),typeof lt!="function")throw Error(s(150));return P=lt.call(P),ht(x,D,P,G)}if(typeof P.then=="function")return Zt(x,D,ku(P),G);if(P.$$typeof===pt)return Zt(x,D,xu(x,P),G);zu(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(x,D.sibling),G=h(D,P),G.return=x,x=G):(a(x,D),G=Yh(P,x.mode,G),G.return=x,x=G),g(x)):a(x,D)}return function(x,D,P,G){try{jo=0;var lt=Zt(x,D,P,G);return Sa=null,lt}catch(ot){if(ot===Aa||ot===Lu)throw ot;var Pt=mn(29,ot,null,x.mode);return Pt.lanes=G,Pt.return=x,Pt}}}var Ns=Jp(!0),$p=Jp(!1),_r=!1;function lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Nu(e),Up(e,null,a),n}return Du(e,o,n,a),Nu(e)}function Fo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,yo(e,a)}}function cf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var hf=!1;function Go(){if(hf){var e=Ta;if(e!==null)throw e}}function Qo(e,n,a,o){hf=!1;var h=e.updateQueue;_r=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,k=R.next;R.next=null,g===null?f=k:g.next=k,g=R;var j=e.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==g&&(E===null?j.firstBaseUpdate=k:E.next=k,j.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;g=0,j=k=R=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(It&z)===z:(o&z)===z){z!==0&&z===Ea&&(hf=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,ht=E;z=n;var Zt=a;switch(ht.tag){case 1:if(at=ht.payload,typeof at=="function"){K=at.call(Zt,K,z);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ht.payload,z=typeof at=="function"?at.call(Zt,K,z):at,z==null)break t;K=S({},K,z);break t;case 2:_r=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(k=j=q,R=K):j=j.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);j===null&&(R=K),h.baseState=R,h.firstBaseUpdate=k,h.lastBaseUpdate=j,f===null&&(h.shared.lanes=0),wr|=g,e.lanes=g,e.memoizedState=K}}function Wp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function tg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Wp(a[e],n)}var ba=O(null),Bu=O(0);function eg(e,n){e=Qi,tt(Bu,e),tt(ba,n),Qi=e|n.baseLanes}function ff(){tt(Bu,Qi),tt(ba,ba.current)}function df(){Qi=Bu.current,Y(ba),Y(Bu)}var pn=O(null),On=null;function Tr(e){var n=e.alternate;tt(de,de.current&1),tt(pn,e),On===null&&(n===null||ba.current!==null||n.memoizedState!==null)&&(On=e)}function mf(e){tt(de,de.current),tt(pn,e),On===null&&(On=e)}function ng(e){e.tag===22?(tt(de,de.current),tt(pn,e),On===null&&(On=e)):Ar()}function Ar(){tt(de,de.current),tt(pn,pn.current)}function gn(e){Y(pn),On===e&&(On=null),Y(de)}var de=O(0);function qu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ed(a)||Td(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ki=0,At=null,Yt=null,Ae=null,ju=!1,wa=!1,Os=!1,Hu=0,Ko=0,Ra=null,bA=0;function le(){throw Error(s(321))}function pf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!dn(e[a],n[a]))return!1;return!0}function gf(e,n,a,o,h,f){return ki=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?zg:Of,Os=!1,f=a(o,h),Os=!1,wa&&(f=rg(n,a,o,h)),ig(e),f}function ig(e){H.H=Zo;var n=Yt!==null&&Yt.next!==null;if(ki=0,Ae=Yt=At=null,ju=!1,Ko=0,Ra=null,n)throw Error(s(300));e===null||Se||(e=e.dependencies,e!==null&&Mu(e)&&(Se=!0))}function rg(e,n,a,o){At=e;var h=0;do{if(wa&&(Ra=null),Ko=0,wa=!1,25<=h)throw Error(s(301));if(h+=1,Ae=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Bg,f=n(a,o)}while(wa);return f}function wA(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Yo(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(At.flags|=1024),n}function yf(){var e=Hu!==0;return Hu=0,e}function _f(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function vf(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}ki=0,Ae=Yt=At=null,wa=!1,Ko=Hu=0,Ra=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function me(){if(Yt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=Ae===null?At.memoizedState:Ae.next;if(n!==null)Ae=n,Yt=e;else{if(e===null)throw At.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(e){var n=Ko;return Ko+=1,Ra===null&&(Ra=[]),e=Yp(Ra,e,n),n=At,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?zg:Of),e}function Gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yo(e);if(e.$$typeof===pt)return Be(e)}throw Error(s(438,String(e)))}function Ef(e){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Fu(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=M;return n.index++,a}function zi(e,n){return typeof n=="function"?n(e):n}function Qu(e){var n=me();return Tf(n,Yt,e)}function Tf(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,k=n,j=!1;do{var K=k.lane&-536870913;if(K!==k.lane?(It&K)===K:(ki&K)===K){var z=k.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),K===Ea&&(j=!0);else if((ki&z)===z){k=k.next,z===Ea&&(j=!0);continue}else K={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=K,g=f):R=R.next=K,At.lanes|=z,wr|=z;K=k.action,Os&&a(f,K),f=k.hasEagerState?k.eagerState:a(f,K)}else z={lane:K,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,At.lanes|=K,wr|=K;k=k.next}while(k!==null&&k!==n);if(R===null?g=f:R.next=E,!dn(f,e.memoizedState)&&(Se=!0,j&&(a=Ta,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Af(e){var n=me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);dn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function sg(e,n,a){var o=At,h=me(),f=Vt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!dn((Yt||h).memoizedState,a);if(g&&(h.memoizedState=a,Se=!0),h=h.queue,wf(lg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Ia(9,{destroy:void 0},og.bind(null,o,h,a,n),null),Jt===null)throw Error(s(349));f||(ki&127)!==0||ag(o,n,a)}return a}function ag(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=Fu(),At.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function og(e,n,a,o){n.value=a,n.getSnapshot=o,ug(n)&&cg(e)}function lg(e,n,a){return a(function(){ug(n)&&cg(e)})}function ug(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!dn(e,a)}catch{return!0}}function cg(e){var n=As(e,2);n!==null&&ln(n,e,2)}function Sf(e){var n=tn();if(typeof e=="function"){var a=e;if(e=a(),Os){Tn(!0);try{a()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function hg(e,n,a,o){return e.baseState=a,Tf(e,Yt,typeof o=="function"?o:zi)}function RA(e,n,a,o,h){if(Xu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,fg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function fg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=a(h,o),R=H.S;R!==null&&R(g,E),dg(e,n,E)}catch(k){bf(e,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=a(h,o),dg(e,n,f)}catch(k){bf(e,n,k)}}function dg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){mg(e,n,o)},function(o){return bf(e,n,o)}):mg(e,n,a)}function mg(e,n,a){n.status="fulfilled",n.value=a,pg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,fg(e,a)))}function bf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,pg(n),n=n.next;while(n!==o)}e.action=null}function pg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function gg(e,n){return n}function yg(e,n){if(Vt){var a=Jt.formState;if(a!==null){t:{var o=At;if(Vt){if(te){e:{for(var h=te,f=Nn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=Vn(h.nextSibling),o=h.data==="F!";break t}}gr(o)}o=!1}o&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gg,lastRenderedState:n},a.queue=o,a=Lg.bind(null,At,o),o.dispatch=a,o=Sf(!1),f=Nf.bind(null,At,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=RA.bind(null,At,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function _g(e){var n=me();return vg(n,Yt,e)}function vg(e,n,a){if(n=Tf(e,n,gg)[0],e=Qu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Yo(n)}catch(g){throw g===Aa?Lu:g}else o=n;n=me();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(At.flags|=2048,Ia(9,{destroy:void 0},IA.bind(null,h,a),null)),[o,f,e]}function IA(e,n){e.action=n}function Eg(e){var n=me(),a=Yt;if(a!==null)return vg(n,a,e);me(),n=n.memoizedState,a=me();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Ia(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=Fu(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Tg(){return me().memoizedState}function Ku(e,n,a,o){var h=tn();At.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},a,o===void 0?null:o)}function Yu(e,n,a,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Yt!==null&&o!==null&&pf(o,Yt.memoizedState.deps)?h.memoizedState=Ia(n,f,a,o):(At.flags|=e,h.memoizedState=Ia(1|n,f,a,o))}function Ag(e,n){Ku(8390656,8,e,n)}function wf(e,n){Yu(2048,8,e,n)}function CA(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Fu(),At.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Sg(e){var n=me().memoizedState;return CA({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function bg(e,n){return Yu(4,2,e,n)}function wg(e,n){return Yu(4,4,e,n)}function Rg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ig(e,n,a){a=a!=null?a.concat([e]):null,Yu(4,4,Rg.bind(null,n,e),a)}function Rf(){}function Cg(e,n){var a=me();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&pf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Dg(e,n){var a=me();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&pf(n,o[1]))return o[0];if(o=e(),Os){Tn(!0);try{e()}finally{Tn(!1)}}return a.memoizedState=[o,n],o}function If(e,n,a){return a===void 0||(ki&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Ny(),At.lanes|=e,wr|=e,a)}function Ng(e,n,a,o){return dn(a,n)?a:ba.current!==null?(e=If(e,a,o),dn(e,n)||(Se=!0),e):(ki&42)===0||(ki&1073741824)!==0&&(It&261930)===0?(Se=!0,e.memoizedState=a):(e=Ny(),At.lanes|=e,wr|=e,n)}function Og(e,n,a,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Nf(e,!1,n,a);try{var R=h(),k=H.S;if(k!==null&&k(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var j=SA(R,o);Xo(e,n,j,vn(e))}else Xo(e,n,o,vn(e))}catch(K){Xo(e,n,{then:function(){},status:"rejected",reason:K},vn())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function DA(){}function Cf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=Vg(e).queue;Og(e,h,n,ct,a===null?DA:function(){return Mg(e),a(o)})}function Vg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ct},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Mg(e){var n=Vg(e);n.next===null&&(n=e.alternate.memoizedState),Xo(e,n.next.queue,{},vn())}function Df(){return Be(fl)}function xg(){return me().memoizedState}function Ug(){return me().memoizedState}function NA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=vn();e=vr(a);var o=Er(n,e,a);o!==null&&(ln(o,n,a),Fo(o,n,a)),n={cache:rf()},e.payload=n;return}n=n.return}}function OA(e,n,a){var o=vn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xu(e)?Pg(n,a):(a=Qh(e,n,a,o),a!==null&&(ln(a,e,o),kg(a,n,o)))}function Lg(e,n,a){var o=vn();Xo(e,n,a,o)}function Xo(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xu(e))Pg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,dn(E,g))return Du(e,n,h,0),Jt===null&&Cu(),!1}catch{}if(a=Qh(e,n,h,o),a!==null)return ln(a,e,o),kg(a,n,o),!0}return!1}function Nf(e,n,a,o){if(o={lane:2,revertLane:ld(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xu(e)){if(n)throw Error(s(479))}else n=Qh(e,a,o,2),n!==null&&ln(n,e,2)}function Xu(e){var n=e.alternate;return e===At||n!==null&&n===At}function Pg(e,n){wa=ju=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function kg(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,yo(e,a)}}var Zo={readContext:Be,use:Gu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Zo.useEffectEvent=le;var zg={readContext:Be,use:Gu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:Ag,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Ku(4194308,4,Rg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Ku(4194308,4,e,n)},useInsertionEffect:function(e,n){Ku(4,2,e,n)},useMemo:function(e,n){var a=tn();n=n===void 0?null:n;var o=e();if(Os){Tn(!0);try{e()}finally{Tn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=tn();if(a!==void 0){var h=a(n);if(Os){Tn(!0);try{a(n)}finally{Tn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=OA.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=Sf(e);var n=e.queue,a=Lg.bind(null,At,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Rf,useDeferredValue:function(e,n){var a=tn();return If(a,e,n)},useTransition:function(){var e=Sf(!1);return e=Og.bind(null,At,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=At,h=tn();if(Vt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(It&127)!==0||ag(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ag(lg.bind(null,o,f,e),[e]),o.flags|=2048,Ia(9,{destroy:void 0},og.bind(null,o,f,a,n),null),a},useId:function(){var e=tn(),n=Jt.identifierPrefix;if(Vt){var a=vi,o=_i;a=(o&~(1<<32-he(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Hu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=bA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Df,useFormState:yg,useActionState:yg,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Nf.bind(null,At,!0,a),a.dispatch=n,[e,n]},useMemoCache:Ef,useCacheRefresh:function(){return tn().memoizedState=NA.bind(null,At)},useEffectEvent:function(e){var n=tn(),a={impl:e};return n.memoizedState=a,function(){if((Bt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Of={readContext:Be,use:Gu,useCallback:Cg,useContext:Be,useEffect:wf,useImperativeHandle:Ig,useInsertionEffect:bg,useLayoutEffect:wg,useMemo:Dg,useReducer:Qu,useRef:Tg,useState:function(){return Qu(zi)},useDebugValue:Rf,useDeferredValue:function(e,n){var a=me();return Ng(a,Yt.memoizedState,e,n)},useTransition:function(){var e=Qu(zi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:sg,useId:xg,useHostTransitionStatus:Df,useFormState:_g,useActionState:_g,useOptimistic:function(e,n){var a=me();return hg(a,Yt,e,n)},useMemoCache:Ef,useCacheRefresh:Ug};Of.useEffectEvent=Sg;var Bg={readContext:Be,use:Gu,useCallback:Cg,useContext:Be,useEffect:wf,useImperativeHandle:Ig,useInsertionEffect:bg,useLayoutEffect:wg,useMemo:Dg,useReducer:Af,useRef:Tg,useState:function(){return Af(zi)},useDebugValue:Rf,useDeferredValue:function(e,n){var a=me();return Yt===null?If(a,e,n):Ng(a,Yt.memoizedState,e,n)},useTransition:function(){var e=Af(zi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Yo(e),n]},useSyncExternalStore:sg,useId:xg,useHostTransitionStatus:Df,useFormState:Eg,useActionState:Eg,useOptimistic:function(e,n){var a=me();return Yt!==null?hg(a,Yt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Ug};Bg.useEffectEvent=Sg;function Vf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Mf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=vn(),h=vr(o);h.payload=n,a!=null&&(h.callback=a),n=Er(e,h,o),n!==null&&(ln(n,e,o),Fo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=vn(),h=vr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Er(e,h,o),n!==null&&(ln(n,e,o),Fo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=vn(),o=vr(a);o.tag=2,n!=null&&(o.callback=n),n=Er(e,o,a),n!==null&&(ln(n,e,a),Fo(n,e,a))}};function qg(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Lo(a,o)||!Lo(h,f):!0}function jg(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Mf.enqueueReplaceState(n,n.state,null)}function Vs(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Hg(e){Iu(e)}function Fg(e){console.error(e)}function Gg(e){Iu(e)}function Zu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Qg(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xf(e,n,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){Zu(e,n)},a}function Kg(e){return e=vr(e),e.tag=3,e}function Yg(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Qg(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Qg(n,a,o),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function VA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&va(n,a,h,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return On===null?lc():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Pu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),sd(e,o,h)),!1;case 22:return a.flags|=65536,o===Pu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),sd(e,o,h)),!1}throw Error(s(435,a.tag))}return sd(e,o,h),lc(),!1}if(Vt)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==$h&&(e=Error(s(422),{cause:o}),zo(In(e,a)))):(o!==$h&&(n=Error(s(423),{cause:o}),zo(In(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=In(o,a),h=xf(e.stateNode,o,h),cf(e,h),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:o});if(f=In(f,a),rl===null?rl=[f]:rl.push(f),ue!==4&&(ue=2),n===null)return!0;o=In(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=xf(a.stateNode,o,e),cf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rr===null||!Rr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Kg(h),Yg(h,e,a,o),cf(a,h),!1}a=a.return}while(a!==null);return!1}var Uf=Error(s(461)),Se=!1;function qe(e,n,a,o){n.child=e===null?$p(n,null,a,o):Ns(n,e.child,a,o)}function Xg(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Rs(n),o=gf(e,n,a,g,f,h),E=yf(),e!==null&&!Se?(_f(e,n,h),Bi(e,n,h)):(Vt&&E&&Zh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Zg(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Jg(e,n,f,o,h)):(e=Ou(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Hf(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Lo,a(g,o)&&e.ref===n.ref)return Bi(e,n,h)}return n.flags|=1,e=xi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Jg(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Lo(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,Hf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,Bi(e,n,h)}return Lf(e,n,a,o,h)}function $g(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Wg(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?eg(n,f):ff(),ng(n);else return o=n.lanes=536870912,Wg(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Uu(n,f.cachePool),eg(n,f),Ar(),n.memoizedState=null):(e!==null&&Uu(n,null),ff(),Ar());return qe(e,n,h,a),n.child}function Jo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wg(e,n,a,o,h){var f=af();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Uu(n,null),ff(),ng(n),e!==null&&va(e,n,o,!0),n.childLanes=h,null}function Ju(e,n){return n=Wu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ty(e,n,a){return Ns(n,e.child,null,a),e=Ju(n,n.pendingProps),e.flags|=2,gn(n),n.memoizedState=null,e}function MA(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=Ju(n,o),n.lanes=536870912,Jo(null,e);if(mf(n),(e=te)?(e=f_(e,Nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:mr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Pp(e),a.return=n,n.child=a,ze=n,te=null)):e=null,e===null)throw gr(n);return n.lanes=536870912,null}return Ju(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=ty(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Se||va(e,n,a,!1),h=(a&e.childLanes)!==0,Se||h){if(o=Jt,o!==null&&(g=_o(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,As(e,g),ln(o,e,g),Uf;lc(),n=ty(e,n,a)}else e=f.treeContext,te=Vn(g.nextSibling),ze=n,Vt=!0,pr=null,Nn=!1,e!==null&&Bp(n,e),n=Ju(n,o),n.flags|=4096;return n}return e=xi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Lf(e,n,a,o,h){return Rs(n),a=gf(e,n,a,o,void 0,h),o=yf(),e!==null&&!Se?(_f(e,n,h),Bi(e,n,h)):(Vt&&o&&Zh(n),n.flags|=1,qe(e,n,a,h),n.child)}function ey(e,n,a,o,h,f){return Rs(n),n.updateQueue=null,a=rg(n,o,a,h),ig(e),o=yf(),e!==null&&!Se?(_f(e,n,f),Bi(e,n,f)):(Vt&&o&&Zh(n),n.flags|=1,qe(e,n,a,f),n.child)}function ny(e,n,a,o,h){if(Rs(n),n.stateNode===null){var f=pa,g=a.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},lf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?Be(g):pa,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Vf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Mf.enqueueReplaceState(f,f.state,null),Qo(n,o,f,h),Go(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Vs(a,E);f.props=R;var k=f.context,j=a.contextType;g=pa,typeof j=="object"&&j!==null&&(g=Be(j));var K=a.getDerivedStateFromProps;j=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&jg(n,f,o,g),_r=!1;var z=n.memoizedState;f.state=z,Qo(n,o,f,h),Go(),k=n.memoizedState,E||z!==k||_r?(typeof K=="function"&&(Vf(n,a,K,o),k=n.memoizedState),(R=_r||qg(n,a,R,o,z,k,g))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=k),f.props=o,f.state=k,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,uf(e,n),g=n.memoizedProps,j=Vs(a,g),f.props=j,K=n.pendingProps,z=f.context,k=a.contextType,R=pa,typeof k=="object"&&k!==null&&(R=Be(k)),E=a.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||z!==R)&&jg(n,f,o,R),_r=!1,z=n.memoizedState,f.state=z,Qo(n,o,f,h),Go();var q=n.memoizedState;g!==K||z!==q||_r||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof E=="function"&&(Vf(n,a,E,o),q=n.memoizedState),(j=_r||qg(n,a,j,o,z,q,R)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=j):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,$u(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ns(n,e.child,null,h),n.child=Ns(n,null,a,h)):qe(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Bi(e,n,h),e}function iy(e,n,a,o){return bs(),n.flags|=256,qe(e,n,a,o),n.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(e){return{baseLanes:e,cachePool:Qp()}}function zf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=_n),e}function ry(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?Tr(n):Ar(),(e=te)?(e=f_(e,Nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:mr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Pp(e),a.return=n,n.child=a,ze=n,te=null)):e=null,e===null)throw gr(n);return Td(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ar(),h=n.mode,E=Wu({mode:"hidden",children:E},h),o=Ss(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=kf(a),o.childLanes=zf(e,g,a),n.memoizedState=Pf,Jo(null,o)):(Tr(n),Bf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Tr(n),n.flags&=-257,n=qf(e,n,a)):n.memoizedState!==null?(Ar(),n.child=e.child,n.flags|=128,n=null):(Ar(),E=o.fallback,h=n.mode,o=Wu({mode:"visible",children:o.children},h),E=Ss(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ns(n,e.child,null,a),o=n.child,o.memoizedState=kf(a),o.childLanes=zf(e,g,a),n.memoizedState=Pf,n=Jo(null,o));else if(Tr(n),Td(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,o=Error(s(419)),o.stack="",o.digest=g,zo({value:o,source:null,stack:null}),n=qf(e,n,a)}else if(Se||va(e,n,a,!1),g=(a&e.childLanes)!==0,Se||g){if(g=Jt,g!==null&&(o=_o(g,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,As(e,o),ln(g,e,o),Uf;Ed(E)||lc(),n=qf(e,n,a)}else Ed(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,te=Vn(E.nextSibling),ze=n,Vt=!0,pr=null,Nn=!1,e!==null&&Bp(n,e),n=Bf(n,o.children),n.flags|=4096);return n}return h?(Ar(),E=o.fallback,h=n.mode,R=e.child,k=R.sibling,o=xi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,k!==null?E=xi(k,E):(E=Ss(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Jo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=kf(a):(h=E.cachePool,h!==null?(R=Te._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Qp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=zf(e,g,a),n.memoizedState=Pf,Jo(e.child,o)):(Tr(n),a=e.child,e=a.sibling,a=xi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function Bf(e,n){return n=Wu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Wu(e,n){return e=mn(22,e,null,n),e.lanes=0,e}function qf(e,n,a){return Ns(n,e.child,null,a),e=Bf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function sy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),ef(e.return,n,a)}function jf(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function ay(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,tt(de,g),qe(e,n,o,a),o=Vt?ko:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sy(e,a,n);else if(e.tag===19)sy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&qu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),jf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&qu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}jf(n,!0,a,null,f,o);break;case"together":jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Bi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),wr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(va(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=xi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=xi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Hf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function xA(e,n,a){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),yr(n,Te,e.memoizedState.cache),bs();break;case 27:case 5:rs(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:yr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Tr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ry(e,n,a):(Tr(n),e=Bi(e,n,a),e!==null?e.sibling:null);Tr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(va(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return ay(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(de,de.current),o)break;return null;case 22:return n.lanes=0,$g(e,n,a,n.pendingProps);case 24:yr(n,Te,e.memoizedState.cache)}return Bi(e,n,a)}function oy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!Hf(e,a)&&(n.flags&128)===0)return Se=!1,xA(e,n,a);Se=(e.flags&131072)!==0}else Se=!1,Vt&&(n.flags&1048576)!==0&&zp(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Cs(n.elementType),n.type=e,typeof e=="function")Kh(e)?(o=Vs(e,o),n.tag=1,n=ny(null,n,e,o,a)):(n.tag=0,n=Lf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Qt){n.tag=11,n=Xg(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=Zg(null,n,e,o,a);break t}}throw n=ie(e)||e,Error(s(306,n,""))}}return n;case 0:return Lf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Vs(o,n.pendingProps),ny(e,n,o,h,a);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,uf(e,n),Qo(n,o,null,a);var g=n.memoizedState;if(o=g.cache,yr(n,Te,o),o!==f.cache&&nf(n,[Te],a,!0),Go(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=iy(e,n,o,a);break t}else if(o!==h){h=In(Error(s(424)),n),zo(h),n=iy(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,te=Vn(e.firstChild),ze=n,Vt=!0,pr=null,Nn=!0,a=$p(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(bs(),o===h){n=Bi(e,n,a);break t}qe(e,n,o,a)}n=n.child}return n;case 26:return $u(e,n),e===null?(a=__(n.type,null,n.pendingProps,null))?n.memoizedState=a:Vt||(a=n.type,e=n.pendingProps,o=pc(St.current).createElement(a),o[_e]=n,o[Me]=e,je(o,a,e),ve(o),n.stateNode=o):n.memoizedState=__(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return rs(n),e===null&&Vt&&(o=n.stateNode=p_(n.type,n.pendingProps,St.current),ze=n,Nn=!0,h=te,Nr(n.type)?(Ad=h,te=Vn(o.firstChild)):te=h),qe(e,n,n.pendingProps.children,a),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=te)&&(o=cS(o,n.type,n.pendingProps,Nn),o!==null?(n.stateNode=o,ze=n,te=Vn(o.firstChild),Nn=!1,h=!0):h=!1),h||gr(n)),rs(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,yd(h,f)?o=null:g!==null&&yd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(e,n,wA,null,null,a),fl._currentValue=h),$u(e,n),qe(e,n,o,a),n.child;case 6:return e===null&&Vt&&((e=a=te)&&(a=hS(a,n.pendingProps,Nn),a!==null?(n.stateNode=a,ze=n,te=null,e=!0):e=!1),e||gr(n)),null;case 13:return ry(e,n,a);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ns(n,null,o,a):qe(e,n,o,a),n.child;case 11:return Xg(e,n,n.type,n.pendingProps,a);case 7:return qe(e,n,n.pendingProps,a),n.child;case 8:return qe(e,n,n.pendingProps.children,a),n.child;case 12:return qe(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,yr(n,n.type,o.value),qe(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Rs(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,a),n.child;case 14:return Zg(e,n,n.type,n.pendingProps,a);case 15:return Jg(e,n,n.type,n.pendingProps,a);case 19:return ay(e,n,a);case 31:return MA(e,n,a);case 22:return $g(e,n,a,n.pendingProps);case 24:return Rs(n),o=Be(Te),e===null?(h=af(),h===null&&(h=Jt,f=rf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},lf(n),yr(n,Te,h)):((e.lanes&a)!==0&&(uf(e,n),Qo(n,null,null,a),Go()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),yr(n,Te,o)):(o=f.cache,yr(n,Te,o),o!==h.cache&&nf(n,[Te],a,!0))),qe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function qi(e){e.flags|=4}function Ff(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(xy())e.flags|=8192;else throw Ds=Pu,of}else e.flags&=-16777217}function ly(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!S_(n))if(xy())e.flags|=8192;else throw Ds=Pu,of}function tc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?au():536870912,e.lanes|=n,Oa|=n)}function $o(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function UA(e,n,a){var o=n.pendingProps;switch(Jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Pi(Te),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_a(n)?qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(qi(n),f!==null?(ee(n),ly(n,f)):(ee(n),Ff(n,h,null,o,a))):f?f!==e.memoizedState?(qi(n),ee(n),ly(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&qi(n),ee(n),Ff(n,h,e,o,a)),null;case 27:if(Zs(n),a=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ee(n),null}e=st.current,_a(n)?qp(n):(e=p_(h,o,a),n.stateNode=e,qi(n))}return ee(n),null;case 5:if(Zs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(f=st.current,_a(n))qp(n);else{var g=pc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[_e]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&qi(n)}}return ee(n),Ff(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=St.current,_a(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||r_(e.nodeValue,a)),e||gr(n,!0)}else e=pc(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ee(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=_a(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[_e]=n}else bs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else a=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_a(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[_e]=n}else bs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),tc(n,n.updateQueue),ee(n),null);case 4:return re(),e===null&&fd(n.stateNode.containerInfo),ee(n),null;case 10:return Pi(n.type),ee(n),null;case 19:if(Y(de),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)$o(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=qu(e),f!==null){for(n.flags|=128,$o(o,!1),e=f.updateQueue,n.updateQueue=e,tc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Lp(a,e),a=a.sibling;return tt(de,de.current&1|2),Vt&&Ui(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>sc&&(n.flags|=128,h=!0,$o(o,!1),n.lanes=4194304)}else{if(!h)if(e=qu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,tc(n,e),$o(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return ee(n),null}else 2*$e()-o.renderingStartTime>sc&&a!==536870912&&(n.flags|=128,h=!0,$o(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,a=de.current,tt(de,h?a&1|2:a&1),Vt&&Ui(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return gn(n),df(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),a=n.updateQueue,a!==null&&tc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&Y(Is),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Pi(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function LA(e,n){switch(Jh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Pi(Te),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Zs(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(s(340));bs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(gn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));bs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(de),null;case 4:return re(),null;case 10:return Pi(n.type),null;case 22:case 23:return gn(n),df(),e!==null&&Y(Is),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Pi(Te),null;case 25:return null;default:return null}}function uy(e,n){switch(Jh(n),n.tag){case 3:Pi(Te),re();break;case 26:case 27:case 5:Zs(n);break;case 4:re();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:Y(de);break;case 10:Pi(n.type);break;case 22:case 23:gn(n),df(),e!==null&&Y(Is);break;case 24:Pi(Te)}}function Wo(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){Gt(n,n.return,E)}}function Sr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=a,k=E;try{k()}catch(j){Gt(h,R,j)}}}o=o.next}while(o!==f)}}catch(j){Gt(n,n.return,j)}}function cy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{tg(n,a)}catch(o){Gt(e,e.return,o)}}}function hy(e,n,a){a.props=Vs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Gt(e,n,o)}}function tl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Gt(e,n,h)}}function Ei(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Gt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Gt(e,n,h)}else a.current=null}function fy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Gt(e,e.return,h)}}function Gf(e,n,a){try{var o=e.stateNode;rS(o,e.type,a,n),o[Me]=n}catch(h){Gt(e,e.return,h)}}function dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Nr(e.type)||e.tag===4}function Qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Nr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Bn));else if(o!==4&&(o===27&&Nr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Kf(e,n,a),e=e.sibling;e!==null;)Kf(e,n,a),e=e.sibling}function ec(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Nr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ec(e,n,a),e=e.sibling;e!==null;)ec(e,n,a),e=e.sibling}function my(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);je(n,o,a),n[_e]=e,n[Me]=a}catch(f){Gt(e,e.return,f)}}var ji=!1,be=!1,Yf=!1,py=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function PA(e,n){if(e=e.containerInfo,pd=Ac,e=Ip(e),Bh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,R=-1,k=0,j=0,K=e,z=null;e:for(;;){for(var q;K!==a||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(R=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)z=K,K=q;for(;;){if(K===e)break e;if(z===a&&++k===h&&(E=g),z===f&&++j===o&&(R=g),(q=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(gd={focusedElem:e,selectionRange:a},Ac=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var at=Vs(a.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){Gt(a,a.return,ht)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)vd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function gy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Fi(e,a),o&4&&Wo(5,a);break;case 1:if(Fi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){Gt(a,a.return,g)}else{var h=Vs(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Gt(a,a.return,g)}}o&64&&cy(a),o&512&&tl(a,a.return);break;case 3:if(Fi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{tg(e,n)}catch(g){Gt(a,a.return,g)}}break;case 27:n===null&&o&4&&my(a);case 26:case 5:Fi(e,a),n===null&&o&4&&fy(a),o&512&&tl(a,a.return);break;case 12:Fi(e,a);break;case 31:Fi(e,a),o&4&&vy(e,a);break;case 13:Fi(e,a),o&4&&Ey(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=QA.bind(null,a),fS(e,a))));break;case 22:if(o=a.memoizedState!==null||ji,!o){n=n!==null&&n.memoizedState!==null||be,h=ji;var f=be;ji=o,(be=n)&&!f?Gi(e,a,(a.subtreeFlags&8772)!==0):Fi(e,a),ji=h,be=f}break;case 30:break;default:Fi(e,a)}}function yy(e){var n=e.alternate;n!==null&&(e.alternate=null,yy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ea(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function Hi(e,n,a){for(a=a.child;a!==null;)_y(e,n,a),a=a.sibling}function _y(e,n,a){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Ln,a)}catch{}switch(a.tag){case 26:be||Ei(a,n),Hi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:be||Ei(a,n);var o=ae,h=rn;Nr(a.type)&&(ae=a.stateNode,rn=!1),Hi(e,n,a),ul(a.stateNode),ae=o,rn=h;break;case 5:be||Ei(a,n);case 6:if(o=ae,h=rn,ae=null,Hi(e,n,a),ae=o,rn=h,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(f){Gt(a,n,f)}else try{ae.removeChild(a.stateNode)}catch(f){Gt(a,n,f)}break;case 18:ae!==null&&(rn?(e=ae,c_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),za(e)):c_(ae,a.stateNode));break;case 4:o=ae,h=rn,ae=a.stateNode.containerInfo,rn=!0,Hi(e,n,a),ae=o,rn=h;break;case 0:case 11:case 14:case 15:Sr(2,a,n),be||Sr(4,a,n),Hi(e,n,a);break;case 1:be||(Ei(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&hy(a,n,o)),Hi(e,n,a);break;case 21:Hi(e,n,a);break;case 22:be=(o=be)||a.memoizedState!==null,Hi(e,n,a),be=o;break;default:Hi(e,n,a)}}function vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{za(e)}catch(a){Gt(n,n.return,a)}}}function Ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{za(e)}catch(a){Gt(n,n.return,a)}}function kA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new py),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new py),n;default:throw Error(s(435,e.tag))}}function nc(e,n){var a=kA(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=KA.bind(null,e,o);o.then(h,h)}})}function sn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Nr(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(s(160));_y(f,g,h),ae=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ty(n,e),n=n.sibling}var Qn=null;function Ty(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),an(e),o&4&&(Sr(3,e,e.return),Wo(3,e),Sr(5,e,e.return));break;case 1:sn(n,e),an(e),o&512&&(be||a===null||Ei(a,a.return)),o&64&&ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Qn;if(sn(n,e),an(e),o&512&&(be||a===null||Ei(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),je(f,o,a),f[_e]=e,ve(f),o=f;break t;case"link":var g=T_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),je(f,o,a),h.head.appendChild(f);break;case"meta":if(g=T_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),je(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else A_(h,e.type,e.stateNode);else e.stateNode=E_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?A_(h,e.type,e.stateNode):E_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Gf(e,e.memoizedProps,a.memoizedProps)}break;case 27:sn(n,e),an(e),o&512&&(be||a===null||Ei(a,a.return)),a!==null&&o&4&&Gf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(sn(n,e),an(e),o&512&&(be||a===null||Ei(a,a.return)),e.flags&32){h=e.stateNode;try{nn(h,"")}catch(at){Gt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Gf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Yf=!0);break;case 6:if(sn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(at){Gt(e,e.return,at)}}break;case 3:if(_c=null,h=Qn,Qn=gc(n.containerInfo),sn(n,e),Qn=h,an(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{za(n.containerInfo)}catch(at){Gt(e,e.return,at)}Yf&&(Yf=!1,Ay(e));break;case 4:o=Qn,Qn=gc(e.stateNode.containerInfo),sn(n,e),an(e),Qn=o;break;case 12:sn(n,e),an(e);break;case 31:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 13:sn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rc=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,k=ji,j=be;if(ji=k||h,be=j||R,sn(n,e),be=j,ji=k,an(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||ji||be||Ms(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(at){Gt(R,R.return,at)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){Gt(R,R.return,at)}}}else if(n.tag===18){if(a===null){R=n;try{var q=R.stateNode;h?h_(q,!0):h_(R.stateNode,!1)}catch(at){Gt(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,nc(e,a))));break;case 19:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 30:break;case 21:break;default:sn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(dy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Qf(e);ec(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(nn(g,""),a.flags&=-33);var E=Qf(e);ec(e,E,g);break;case 3:case 4:var R=a.stateNode.containerInfo,k=Qf(e);Kf(e,k,R);break;default:throw Error(s(161))}}catch(j){Gt(e,e.return,j)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ay(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gy(e,n.alternate,n),n=n.sibling}function Ms(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Sr(4,n,n.return),Ms(n);break;case 1:Ei(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&hy(n,n.return,a),Ms(n);break;case 27:ul(n.stateNode);case 26:case 5:Ei(n,n.return),Ms(n);break;case 22:n.memoizedState===null&&Ms(n);break;case 30:Ms(n);break;default:Ms(n)}e=e.sibling}}function Gi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,a),Wo(4,f);break;case 1:if(Gi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Gt(o,o.return,k)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Wp(R[h],E)}catch(k){Gt(o,o.return,k)}}a&&g&64&&cy(f),tl(f,f.return);break;case 27:my(f);case 26:case 5:Gi(h,f,a),a&&o===null&&g&4&&fy(f),tl(f,f.return);break;case 12:Gi(h,f,a);break;case 31:Gi(h,f,a),a&&g&4&&vy(h,f);break;case 13:Gi(h,f,a),a&&g&4&&Ey(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,a),tl(f,f.return);break;case 30:break;default:Gi(h,f,a)}n=n.sibling}}function Xf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Bo(a))}function Zf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e))}function Kn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(e,n,a,o),n=n.sibling}function Sy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,a,o),h&2048&&Wo(9,n);break;case 1:Kn(e,n,a,o);break;case 3:Kn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e)));break;case 12:if(h&2048){Kn(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Gt(n,n.return,R)}}else Kn(e,n,a,o);break;case 31:Kn(e,n,a,o);break;case 13:Kn(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(e,n,a,o):el(e,n):f._visibility&2?Kn(e,n,a,o):(f._visibility|=2,Ca(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(g,n);break;case 24:Kn(e,n,a,o),h&2048&&Zf(n.alternate,n);break;default:Kn(e,n,a,o)}}function Ca(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=a,R=o,k=g.flags;switch(g.tag){case 0:case 11:case 15:Ca(f,g,E,R,h),Wo(8,g);break;case 23:break;case 22:var j=g.stateNode;g.memoizedState!==null?j._visibility&2?Ca(f,g,E,R,h):el(f,g):(j._visibility|=2,Ca(f,g,E,R,h)),h&&k&2048&&Xf(g.alternate,g);break;case 24:Ca(f,g,E,R,h),h&&k&2048&&Zf(g.alternate,g);break;default:Ca(f,g,E,R,h)}n=n.sibling}}function el(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:el(a,o),h&2048&&Xf(o.alternate,o);break;case 24:el(a,o),h&2048&&Zf(o.alternate,o);break;default:el(a,o)}n=n.sibling}}var nl=8192;function Da(e,n,a){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)by(e,n,a),e=e.sibling}function by(e,n,a){switch(e.tag){case 26:Da(e,n,a),e.flags&nl&&e.memoizedState!==null&&bS(a,Qn,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,a);break;case 3:case 4:var o=Qn;Qn=gc(e.stateNode.containerInfo),Da(e,n,a),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=nl,nl=16777216,Da(e,n,a),nl=o):Da(e,n,a));break;default:Da(e,n,a)}}function wy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function il(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ue=o,Iy(o,e)}wy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ry(e),e=e.sibling}function Ry(e){switch(e.tag){case 0:case 11:case 15:il(e),e.flags&2048&&Sr(9,e,e.return);break;case 3:il(e);break;case 12:il(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ic(e)):il(e);break;default:il(e)}}function ic(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ue=o,Iy(o,e)}wy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Sr(8,n,n.return),ic(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ic(n));break;default:ic(n)}e=e.sibling}}function Iy(e,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:Sr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Bo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ue=o;else t:for(a=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(yy(o),o===a){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var zA={getCacheForType:function(e){var n=Be(Te),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Be(Te).controller.signal}},BA=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Jt=null,wt=null,It=0,Ft=0,yn=null,br=!1,Na=!1,Jf=!1,Qi=0,ue=0,wr=0,xs=0,$f=0,_n=0,Oa=0,rl=null,on=null,Wf=!1,rc=0,Cy=0,sc=1/0,ac=null,Rr=null,Oe=0,Ir=null,Va=null,Ki=0,td=0,ed=null,Dy=null,sl=0,nd=null;function vn(){return(Bt&2)!==0&&It!==0?It&-It:H.T!==null?ld():ou()}function Ny(){if(_n===0)if((It&536870912)===0||Vt){var e=os;os<<=1,(os&3932160)===0&&(os=262144),_n=e}else _n=536870912;return e=pn.current,e!==null&&(e.flags|=32),_n}function ln(e,n,a){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),Cr(e,It,_n,!1)),ls(e,a),((Bt&2)===0||e!==Jt)&&(e===Jt&&((Bt&2)===0&&(xs|=a),ue===4&&Cr(e,It,_n,!1)),Ti(e))}function Oy(e,n,a){if((Bt&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Pn(e,n),h=o?HA(e,n):rd(e,n,!0),f=o;do{if(h===0){Na&&!o&&Cr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!qA(a)){h=rd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=rl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ma(E,g).flags|=256),g=rd(E,g,!1),g!==2){if(Jf&&!R){E.errorRecoveryDisabledLanes|=f,xs|=f,h=4;break t}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ma(e,0),Cr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Cr(o,n,_n,!br);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=rc+300-$e(),10<h)){if(Cr(o,n,_n,!br),ii(o,0,!0)!==0)break t;Ki=n,o.timeoutHandle=l_(Vy.bind(null,o,a,on,ac,Wf,n,_n,xs,Oa,br,f,"Throttled",-0,0),h);break t}Vy(o,a,on,ac,Wf,n,_n,xs,Oa,br,f,null,-0,0)}}break}while(!0);Ti(e)}function Vy(e,n,a,o,h,f,g,E,R,k,j,K,z,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},by(n,f,K);var at=(f&62914560)===f?rc-$e():(f&4194048)===f?Cy-$e():0;if(at=wS(K,at),at!==null){Ki=f,e.cancelPendingCommit=at(By.bind(null,e,n,f,a,o,h,g,E,R,j,K,null,z,q)),Cr(e,f,g,!k);return}}By(e,n,f,a,o,h,g,E,R)}function qA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cr(e,n,a,o){n&=~$f,n&=~xs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&us(e,a,n)}function oc(){return(Bt&6)===0?(al(0),!1):!0}function id(){if(wt!==null){if(Ft===0)var e=wt.return;else e=wt,Li=ws=null,vf(e),Sa=null,jo=0,e=wt;for(;e!==null;)uy(e.alternate,e),e=e.return;wt=null}}function Ma(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,oS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ki=0,id(),Jt=e,wt=a=xi(e.current,null),It=n,Ft=0,yn=null,br=!1,Na=Pn(e,n),Jf=!1,Oa=_n=$f=xs=wr=ue=0,on=rl=null,Wf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Qi=n,Cu(),a}function My(e,n){At=null,H.H=Zo,n===Aa||n===Lu?(n=Xp(),Ft=3):n===of?(n=Xp(),Ft=4):Ft=n===Uf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,wt===null&&(ue=1,Zu(e,In(n,e.current)))}function xy(){var e=pn.current;return e===null?!0:(It&4194048)===It?On===null:(It&62914560)===It||(It&536870912)!==0?e===On:!1}function Uy(){var e=H.H;return H.H=Zo,e===null?Zo:e}function Ly(){var e=H.A;return H.A=zA,e}function lc(){ue=4,br||(It&4194048)!==It&&pn.current!==null||(Na=!0),(wr&134217727)===0&&(xs&134217727)===0||Jt===null||Cr(Jt,It,_n,!1)}function rd(e,n,a){var o=Bt;Bt|=2;var h=Uy(),f=Ly();(Jt!==e||It!==n)&&(ac=null,Ma(e,n)),n=!1;var g=ue;t:do try{if(Ft!==0&&wt!==null){var E=wt,R=yn;switch(Ft){case 8:id(),g=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var k=Ft;if(Ft=0,yn=null,xa(e,E,R,k),a&&Na){g=0;break t}break;default:k=Ft,Ft=0,yn=null,xa(e,E,R,k)}}jA(),g=ue;break}catch(j){My(e,j)}while(!0);return n&&e.shellSuspendCounter++,Li=ws=null,Bt=o,H.H=h,H.A=f,wt===null&&(Jt=null,It=0,Cu()),g}function jA(){for(;wt!==null;)Py(wt)}function HA(e,n){var a=Bt;Bt|=2;var o=Uy(),h=Ly();Jt!==e||It!==n?(ac=null,sc=$e()+500,Ma(e,n)):Na=Pn(e,n);t:do try{if(Ft!==0&&wt!==null){n=wt;var f=yn;e:switch(Ft){case 1:Ft=0,yn=null,xa(e,n,f,1);break;case 2:case 9:if(Kp(f)){Ft=0,yn=null,ky(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),Ti(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Kp(f)?(Ft=0,yn=null,ky(n)):(Ft=0,yn=null,xa(e,n,f,7));break;case 5:var g=null;switch(wt.tag){case 26:g=wt.memoizedState;case 5:case 27:var E=wt;if(g?S_(g):E.stateNode.complete){Ft=0,yn=null;var R=E.sibling;if(R!==null)wt=R;else{var k=E.return;k!==null?(wt=k,uc(k)):wt=null}break e}}Ft=0,yn=null,xa(e,n,f,5);break;case 6:Ft=0,yn=null,xa(e,n,f,6);break;case 8:id(),ue=6;break t;default:throw Error(s(462))}}FA();break}catch(j){My(e,j)}while(!0);return Li=ws=null,H.H=o,H.A=h,Bt=a,wt!==null?0:(Jt=null,It=0,Cu(),ue)}function FA(){for(;wt!==null&&!Mh();)Py(wt)}function Py(e){var n=oy(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?uc(e):wt=n}function ky(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=ey(a,n,n.pendingProps,n.type,void 0,It);break;case 11:n=ey(a,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:vf(n);default:uy(a,n),n=wt=Lp(n,Qi),n=oy(a,n,Qi)}e.memoizedProps=e.pendingProps,n===null?uc(e):wt=n}function xa(e,n,a,o){Li=ws=null,vf(n),Sa=null,jo=0;var h=n.return;try{if(VA(e,h,n,a,It)){ue=1,Zu(e,In(a,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;ue=1,Zu(e,In(a,e.current)),wt=null;return}n.flags&32768?(Vt||o===1?e=!0:Na||(It&536870912)!==0?e=!1:(br=e=!0,(o===2||o===9||o===3||o===6)&&(o=pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),zy(n,e)):uc(n)}function uc(e){var n=e;do{if((n.flags&32768)!==0){zy(n,br);return}e=n.return;var a=UA(n.alternate,n,Qi);if(a!==null){wt=a;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);ue===0&&(ue=5)}function zy(e,n){do{var a=LA(e.alternate,e);if(a!==null){a.flags&=32767,wt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=a}while(e!==null);ue=6,wt=null}function By(e,n,a,o,h,f,g,E,R){e.cancelPendingCommit=null;do cc();while(Oe!==0);if((Bt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Gh,Lh(e,a,f,g,E,R),e===Jt&&(wt=Jt=null,It=0),Va=n,Ir=e,Ki=a,td=f,ed=h,Dy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,YA(rr,function(){return Gy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=W.p,W.p=2,g=Bt,Bt|=4;try{PA(e,n,a)}finally{Bt=g,W.p=h,H.T=o}}Oe=1,qy(),jy(),Hy()}}function qy(){if(Oe===1){Oe=0;var e=Ir,n=Va,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=W.p;W.p=2;var h=Bt;Bt|=4;try{Ty(n,e);var f=gd,g=Ip(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Rp(E.ownerDocument.documentElement,E)){if(R!==null&&Bh(E)){var k=R.start,j=R.end;if(j===void 0&&(j=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(j,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var q=z.getSelection(),at=E.textContent.length,ht=Math.min(R.start,at),Zt=R.end===void 0?ht:Math.min(R.end,at);!q.extend&&ht>Zt&&(g=Zt,Zt=ht,ht=g);var x=wp(E,ht),D=wp(E,Zt);if(x&&D&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=K.createRange();P.setStart(x.node,x.offset),q.removeAllRanges(),ht>Zt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var G=K[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Ac=!!pd,gd=pd=null}finally{Bt=h,W.p=o,H.T=a}}e.current=n,Oe=2}}function jy(){if(Oe===2){Oe=0;var e=Ir,n=Va,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=W.p;W.p=2;var h=Bt;Bt|=4;try{gy(e,n.alternate,n)}finally{Bt=h,W.p=o,H.T=a}}Oe=3}}function Hy(){if(Oe===4||Oe===3){Oe=0,tu();var e=Ir,n=Va,a=Ki,o=Dy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Va=Ir=null,Fy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rr=null),Ni(a),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=W.p,W.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,W.p=h}}(Ki&3)!==0&&cc(),Ti(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===nd?sl++:(sl=0,nd=e):sl=0,al(0)}}function Fy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Bo(n)))}function cc(){return qy(),jy(),Hy(),Gy()}function Gy(){if(Oe!==5)return!1;var e=Ir,n=td;td=0;var a=Ni(Ki),o=H.T,h=W.p;try{W.p=32>a?32:a,H.T=null,a=ed,ed=null;var f=Ir,g=Ki;if(Oe=0,Va=Ir=null,Ki=0,(Bt&6)!==0)throw Error(s(331));var E=Bt;if(Bt|=4,Ry(f.current),Sy(f,f.current,g,a),Bt=E,al(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{W.p=h,H.T=o,Fy(e,n)}}function Qy(e,n,a){n=In(a,n),n=xf(e.stateNode,n,2),e=Er(e,n,2),e!==null&&(ls(e,2),Ti(e))}function Gt(e,n,a){if(e.tag===3)Qy(e,e,a);else for(;n!==null;){if(n.tag===3){Qy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rr===null||!Rr.has(o))){e=In(a,e),a=Kg(2),o=Er(n,a,2),o!==null&&(Yg(a,o,n,e),ls(o,2),Ti(o));break}}n=n.return}}function sd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new BA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Jf=!0,h.add(a),e=GA.bind(null,e,n,a),n.then(e,e))}function GA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(It&a)===a&&(ue===4||ue===3&&(It&62914560)===It&&300>$e()-rc?(Bt&2)===0&&Ma(e,0):$f|=a,Oa===It&&(Oa=0)),Ti(e)}function Ky(e,n){n===0&&(n=au()),e=As(e,n),e!==null&&(ls(e,n),Ti(e))}function QA(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Ky(e,a)}function KA(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Ky(e,a)}function YA(e,n){return Ne(e,n)}var hc=null,Ua=null,ad=!1,fc=!1,od=!1,Dr=0;function Ti(e){e!==Ua&&e.next===null&&(Ua===null?hc=Ua=e:Ua=Ua.next=e),fc=!0,ad||(ad=!0,ZA())}function al(e,n){if(!od&&fc){od=!0;do for(var a=!1,o=hc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Jy(o,f))}else f=It,f=ii(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Pn(o,f)||(a=!0,Jy(o,f));o=o.next}while(a);od=!1}}function XA(){Yy()}function Yy(){fc=ad=!1;var e=0;Dr!==0&&aS()&&(e=Dr);for(var n=$e(),a=null,o=hc;o!==null;){var h=o.next,f=Xy(o,n);f===0?(o.next=null,a===null?hc=h:a.next=h,h===null&&(Ua=a)):(a=o,(e!==0||(f&3)!==0)&&(fc=!0)),o=h}Oe!==0&&Oe!==5||al(e),Dr!==0&&(Dr=0)}function Xy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,R=h[g];R===-1?((E&a)===0||(E&o)!==0)&&(h[g]=Uh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,a=It,a=ii(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ir(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Pn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&ir(o),Ni(a)){case 2:case 8:a=go;break;case 32:a=rr;break;case 268435456:a=eu;break;default:a=rr}return o=Zy.bind(null,e),a=Ne(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&ir(o),e.callbackPriority=2,e.callbackNode=null,2}function Zy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(cc()&&e.callbackNode!==a)return null;var o=It;return o=ii(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Oy(e,o,n),Xy(e,$e()),e.callbackNode!=null&&e.callbackNode===a?Zy.bind(null,e):null)}function Jy(e,n){if(cc())return null;Oy(e,n,!0)}function ZA(){lS(function(){(Bt&6)!==0?Ne(po,XA):Yy()})}function ld(){if(Dr===0){var e=Ea;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Dr=e}return Dr}function $y(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function Wy(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function JA(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=$y((h[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?$y(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new mi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Dr!==0){var R=g?Wy(h,g):new FormData(h);Cf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Wy(h,g):new FormData(h),Cf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ud=0;ud<Fh.length;ud++){var cd=Fh[ud],$A=cd.toLowerCase(),WA=cd[0].toUpperCase()+cd.slice(1);Gn($A,"on"+WA)}Gn(Np,"onAnimationEnd"),Gn(Op,"onAnimationIteration"),Gn(Vp,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(pA,"onTransitionRun"),Gn(gA,"onTransitionStart"),Gn(yA,"onTransitionCancel"),Gn(Mp,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function t_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,k=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(j){Iu(j)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,k=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(j){Iu(j)}h.currentTarget=null,f=R}}}}function Rt(e,n){var a=n[ta];a===void 0&&(a=n[ta]=new Set);var o=e+"__bubble";a.has(o)||(e_(n,e,2,!1),a.add(o))}function hd(e,n,a){var o=0;n&&(o|=4),e_(a,e,o,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function fd(e){if(!e[dc]){e[dc]=!0,vo.forEach(function(a){a!=="selectionchange"&&(tS.has(a)||hd(a,!1,e),hd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[dc]||(n[dc]=!0,hd("selectionchange",!1,n))}}function e_(e,n,a,o){switch(N_(n)){case 2:var h=CS;break;case 8:h=DS;break;default:h=Id}a=h.bind(null,n,a,e),h=void 0,!ms||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function dd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=oi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}cr(function(){var k=f,j=Sn(a),K=[];t:{var z=xp.get(e);if(z!==void 0){var q=mi,at=e;switch(e){case"keypress":if(gs(a)===0)break t;case"keydown":case"keyup":q=bu;break;case"focusin":at="focus",q=_s;break;case"focusout":at="blur",q=_s;break;case"beforeblur":case"afterblur":q=_s;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Np:case Op:case Vp:q=yu;break;case Mp:q=T;break;case"scroll":case"scrollend":q=Oo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Mi;break;case"toggle":case"beforetoggle":q=Tt}var ht=(n&4)!==0,Zt=!ht&&(e==="scroll"||e==="scrollend"),x=ht?z!==null?z+"Capture":null:z;ht=[];for(var D=k,P;D!==null;){var G=D;if(P=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||P===null||x===null||(G=qn(D,x),G!=null&&ht.push(ll(D,G,P))),Zt)break;D=D.return}0<ht.length&&(z=new q(z,at,null,a,j),K.push({event:z,listeners:ht}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&a!==Co&&(at=a.relatedTarget||a.fromElement)&&(oi(at)||at[si]))break t;if((q||z)&&(z=j.window===j?j:(z=j.ownerDocument)?z.defaultView||z.parentWindow:window,q?(at=a.relatedTarget||a.toElement,q=k,at=at?oi(at):null,at!==null&&(Zt=c(at),ht=at.tag,at!==Zt||ht!==5&&ht!==27&&ht!==6)&&(at=null)):(q=null,at=k),q!==at)){if(ht=Vo,G="onMouseLeave",x="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ht=Mi,G="onPointerLeave",x="onPointerEnter",D="pointer"),Zt=q==null?z:hn(q),P=at==null?z:hn(at),z=new ht(G,D+"leave",q,a,j),z.target=Zt,z.relatedTarget=P,G=null,oi(j)===k&&(ht=new ht(x,D+"enter",at,a,j),ht.target=P,ht.relatedTarget=Zt,G=ht),Zt=G,q&&at)e:{for(ht=eS,x=q,D=at,P=0,G=x;G;G=ht(G))P++;G=0;for(var lt=D;lt;lt=ht(lt))G++;for(;0<P-G;)x=ht(x),P--;for(;0<G-P;)D=ht(D),G--;for(;P--;){if(x===D||D!==null&&x===D.alternate){ht=x;break e}x=ht(x),D=ht(D)}ht=null}else ht=null;q!==null&&n_(K,z,q,ht,!1),at!==null&&Zt!==null&&n_(K,Zt,at,ht,!0)}}t:{if(z=k?hn(k):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Pt=vp;else if(yp(z))if(Ep)Pt=fA;else{Pt=cA;var ot=uA}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&ra(k.elementType)&&(Pt=vp):Pt=hA;if(Pt&&(Pt=Pt(e,k))){_p(K,Pt,a,j);break t}ot&&ot(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&wo(z,"number",z.value)}switch(ot=k?hn(k):window,e){case"focusin":(yp(ot)||ot.contentEditable==="true")&&(fa=ot,qh=k,Po=null);break;case"focusout":Po=qh=fa=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Cp(K,a,j);break;case"selectionchange":if(mA)break;case"keydown":case"keyup":Cp(K,a,j)}var bt;if(zt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else ha?vs(e,a)&&(Ct="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(yi&&a.locale!=="ko"&&(ha||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&ha&&(bt=No()):(di=j,Do="value"in di?di.value:di.textContent,ha=!0)),ot=mc(k,Ct),0<ot.length&&(Ct=new gi(Ct,e,null,a,j),K.push({event:Ct,listeners:ot}),bt?Ct.data=bt:(bt=ca(a),bt!==null&&(Ct.data=bt)))),(bt=wn?sA(e,a):aA(e,a))&&(Ct=mc(k,"onBeforeInput"),0<Ct.length&&(ot=new gi("onBeforeInput","beforeinput",null,a,j),K.push({event:ot,listeners:Ct}),ot.data=bt)),JA(K,e,k,a,j)}t_(K,n)})}function ll(e,n,a){return{instance:e,listener:n,currentTarget:a}}function mc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(e,a),h!=null&&o.unshift(ll(e,h,f)),h=qn(e,n),h!=null&&o.push(ll(e,h,f))),e.tag===3)return o;e=e.return}return[]}function eS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function n_(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var E=a,R=E.alternate,k=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||k===null||(R=k,h?(k=qn(a,f),k!=null&&g.unshift(ll(a,k,R))):h||(k=qn(a,f),k!=null&&g.push(ll(a,k,R)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var nS=/\r\n?/g,iS=/\u0000|\uFFFD/g;function i_(e){return(typeof e=="string"?e:""+e).replace(nS,`
`).replace(iS,"")}function r_(e,n){return n=i_(n),i_(e)===n}function Xt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":fn(e,"class",o);break;case"tabIndex":fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,a,o);break;case"style":Io(e,o,f);break;case"data":if(n!=="object"){fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=sa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=sa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=sa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),na(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":na(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mu.get(a)||a,na(e,a,o))}}function md(e,n,a,o,h,f){switch(a){case"style":Io(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Me]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):na(e,a,o)}}}function je(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(e,n,f,g,a,null)}}h&&Xt(e,n,"srcSet",a.srcSet,a,null),o&&Xt(e,n,"src",a.src,a,null);return;case"input":Rt("invalid",e);var E=f=g=h=null,R=null,k=null;for(o in a)if(a.hasOwnProperty(o)){var j=a[o];if(j!=null)switch(o){case"name":h=j;break;case"type":g=j;break;case"checked":R=j;break;case"defaultChecked":k=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Xt(e,n,o,j,a,null)}}hu(e,f,E,R,k,g,h,!1);return;case"select":Rt("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Xt(e,n,h,E,a,null)}n=f,a=g,e.multiple=!!o,n!=null?ar(e,!!o,n,!1):a!=null&&ar(e,!!o,a,!0);return;case"textarea":Rt("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xt(e,n,g,E,a,null)}or(e,o,h,f);return;case"option":for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Xt(e,n,R,o,a,null));return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<ol.length;o++)Rt(ol[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(o=a[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(e,n,k,o,a,null)}return;default:if(ra(n)){for(j in a)a.hasOwnProperty(j)&&(o=a[j],o!==void 0&&md(e,n,j,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Xt(e,n,E,o,a,null))}function rS(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,k=null,j=null;for(q in a){var K=a[q];if(a.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=K;default:o.hasOwnProperty(q)||Xt(e,n,q,null,o,K)}}for(var z in o){var q=o[z];if(K=a[z],o.hasOwnProperty(z)&&(q!=null||K!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":k=q;break;case"defaultChecked":j=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==K&&Xt(e,n,z,q,o,K)}}ia(e,g,E,R,k,j,f,h);return;case"select":q=g=E=z=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Xt(e,n,h,f,o,R)}n=E,a=g,o=q,z!=null?ar(e,!!a,z,!1):!!o!=!!a&&(n!=null?ar(e,!!a,n,!0):ar(e,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Xt(e,n,g,h,o,f)}fu(e,z,q);return;case"option":for(var at in a)z=a[at],a.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:Xt(e,n,at,null,o,z));for(R in o)z=o[R],q=a[R],o.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Xt(e,n,R,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in a)z=a[ht],a.hasOwnProperty(ht)&&z!=null&&!o.hasOwnProperty(ht)&&Xt(e,n,ht,null,o,z);for(k in o)if(z=o[k],q=a[k],o.hasOwnProperty(k)&&z!==q&&(z!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Xt(e,n,k,z,o,q)}return;default:if(ra(n)){for(var Zt in a)z=a[Zt],a.hasOwnProperty(Zt)&&z!==void 0&&!o.hasOwnProperty(Zt)&&md(e,n,Zt,void 0,o,z);for(j in o)z=o[j],q=a[j],!o.hasOwnProperty(j)||z===q||z===void 0&&q===void 0||md(e,n,j,z,o,q);return}}for(var x in a)z=a[x],a.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Xt(e,n,x,null,o,z);for(K in o)z=o[K],q=a[K],!o.hasOwnProperty(K)||z===q||z==null&&q==null||Xt(e,n,K,z,o,q)}function s_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&s_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],k=R.startTime;if(k>E)break;var j=R.transferSize,K=R.initiatorType;j&&s_(K)&&(R=R.responseEnd,g+=j*(R<E?1:(E-k)/(R-k)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pd=null,gd=null;function pc(e){return e.nodeType===9?e:e.ownerDocument}function a_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function yd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function aS(){var e=window.event;return e&&e.type==="popstate"?e===_d?!1:(_d=e,!0):(_d=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,oS=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,lS=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(e){return u_.resolve(null).then(e).catch(uS)}:l_;function uS(e){setTimeout(function(){throw e})}function Nr(e){return e==="head"}function c_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),za(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")ul(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ul(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&ul(e.ownerDocument.body);a=h}while(a);za(n)}function h_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function vd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vd(a),ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function cS(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function hS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Vn(e.nextSibling),e===null))return null;return e}function f_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function Ed(e){return e.data==="$?"||e.data==="$~"}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function fS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ad=null;function d_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Vn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function m_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function p_(e,n,a){switch(n=pc(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ul(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ea(e)}var Mn=new Map,g_=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=W.d;W.d={f:dS,r:mS,D:pS,C:gS,L:yS,m:_S,X:ES,S:vS,M:TS};function dS(){var e=Yi.f(),n=oc();return e||n}function mS(e){var n=An(e);n!==null&&n.tag===5&&n.type==="form"?Mg(n):Yi.r(e)}var La=typeof document>"u"?null:document;function y_(e,n,a){var o=La;if(o&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),g_.has(h)||(g_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),je(n,"link",e),ve(n),o.head.appendChild(n)))}}function pS(e){Yi.D(e),y_("dns-prefetch",e,null)}function gS(e,n){Yi.C(e,n),y_("preconnect",e,n)}function yS(e,n,a){Yi.L(e,n,a);var o=La;if(o&&e&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+en(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+en(a.imageSizes)+'"]')):h+='[href="'+en(e)+'"]';var f=h;switch(n){case"style":f=Pa(e);break;case"script":f=ka(e)}Mn.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Mn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(cl(f))||n==="script"&&o.querySelector(hl(f))||(n=o.createElement("link"),je(n,"link",e),ve(n),o.head.appendChild(n)))}}function _S(e,n){Yi.m(e,n);var a=La;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!Mn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Mn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(hl(f)))return}o=a.createElement("link"),je(o,"link",e),ve(o),a.head.appendChild(o)}}}function vS(e,n,a){Yi.S(e,n,a);var o=La;if(o&&e){var h=li(o).hoistableStyles,f=Pa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(cl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Mn.get(f))&&Sd(e,a);var R=g=o.createElement("link");ve(R),je(R,"link",e),R._p=new Promise(function(k,j){R.onload=k,R.onerror=j}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function ES(e,n){Yi.X(e,n);var a=La;if(a&&e){var o=li(a).hoistableScripts,h=ka(e),f=o.get(h);f||(f=a.querySelector(hl(h)),f||(e=S({src:e,async:!0},n),(n=Mn.get(h))&&bd(e,n),f=a.createElement("script"),ve(f),je(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function TS(e,n){Yi.M(e,n);var a=La;if(a&&e){var o=li(a).hoistableScripts,h=ka(e),f=o.get(h);f||(f=a.querySelector(hl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Mn.get(h))&&bd(e,n),f=a.createElement("script"),ve(f),je(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function __(e,n,a,o){var h=(h=St.current)?gc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Pa(a.href),a=li(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Pa(a.href);var f=li(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(cl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Mn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(e,a),f||AS(h,e,a,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(a),a=li(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Pa(e){return'href="'+en(e)+'"'}function cl(e){return'link[rel="stylesheet"]['+e+"]"}function v_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function AS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),je(n,"link",a),ve(n),e.head.appendChild(n))}function ka(e){return'[src="'+en(e)+'"]'}function hl(e){return"script[async]"+e}function E_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(a.href)+'"]');if(o)return n.instance=o,ve(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),je(o,"style",h),yc(o,a.precedence,e),n.instance=o;case"stylesheet":h=Pa(a.href);var f=e.querySelector(cl(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=v_(a),(h=Mn.get(h))&&Sd(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),je(f,"link",o),n.state.loading|=4,yc(f,a.precedence,e),n.instance=f;case"script":return f=ka(a.src),(h=e.querySelector(hl(f)))?(n.instance=h,ve(h),h):(o=a,(h=Mn.get(f))&&(o=S({},a),bd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,yc(o,a.precedence,e));return n.instance}function yc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _c=null;function T_(e,n,a){if(_c===null){var o=new Map,h=_c=new Map;h.set(a,o)}else h=_c,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ai]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function A_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function SS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function S_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function bS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Pa(o.href),f=n.querySelector(cl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=vc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,ve(f);return}f=n.ownerDocument||n,o=v_(o),(h=Mn.get(h))&&Sd(o,h),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),je(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=vc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var wd=0;function wS(e,n){return e.stylesheets&&e.count===0&&Tc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&wd===0&&(wd=62500*sS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>wd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ec=null;function Tc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ec=new Map,n.forEach(RS,e),Ec=null,vc.call(e))}function RS(e,n){if(!(n.state.loading&4)){var a=Ec.get(e);if(a)var o=a.get(null);else{a=new Map,Ec.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=vc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var fl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function IS(e,n,a,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function b_(e,n,a,o,h,f,g,E,R,k,j,K){return e=new IS(e,n,a,g,R,k,j,K,E),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),e.current=f,f.stateNode=e,n=rf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},lf(f),e}function w_(e){return e?(e=pa,e):pa}function R_(e,n,a,o,h,f){h=w_(h),o.context===null?o.context=h:o.pendingContext=h,o=vr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Er(e,o,n),a!==null&&(ln(a,e,n),Fo(a,e,n))}function I_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Rd(e,n){I_(e,n),(e=e.alternate)&&I_(e,n)}function C_(e){if(e.tag===13||e.tag===31){var n=As(e,67108864);n!==null&&ln(n,e,67108864),Rd(e,67108864)}}function D_(e){if(e.tag===13||e.tag===31){var n=vn();n=cs(n);var a=As(e,n);a!==null&&ln(a,e,n),Rd(e,n)}}var Ac=!0;function CS(e,n,a,o){var h=H.T;H.T=null;var f=W.p;try{W.p=2,Id(e,n,a,o)}finally{W.p=f,H.T=h}}function DS(e,n,a,o){var h=H.T;H.T=null;var f=W.p;try{W.p=8,Id(e,n,a,o)}finally{W.p=f,H.T=h}}function Id(e,n,a,o){if(Ac){var h=Cd(o);if(h===null)dd(e,n,o,Sc,a),O_(e,o);else if(OS(h,e,n,a,o))o.stopPropagation();else if(O_(e,o),n&4&&-1<NS.indexOf(e)){for(;h!==null;){var f=An(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ni(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-he(g);E.entanglements[1]|=R,g&=~R}Ti(f),(Bt&6)===0&&(sc=$e()+500,al(0))}}break;case 31:case 13:E=As(f,2),E!==null&&ln(E,f,2),oc(),Rd(f,2)}if(f=Cd(o),f===null&&dd(e,n,o,Sc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else dd(e,n,o,null,a)}}function Cd(e){return e=Sn(e),Dd(e)}var Sc=null;function Dd(e){if(Sc=null,e=oi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sc=e,null}function N_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(as()){case po:return 2;case go:return 8;case rr:case xh:return 32;case eu:return 268435456;default:return 32}default:return 32}}var Nd=!1,Or=null,Vr=null,Mr=null,dl=new Map,ml=new Map,xr=[],NS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(e,n){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(n.pointerId)}}function pl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&C_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function OS(e,n,a,o,h){switch(n){case"focusin":return Or=pl(Or,e,n,a,o,h),!0;case"dragenter":return Vr=pl(Vr,e,n,a,o,h),!0;case"mouseover":return Mr=pl(Mr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return dl.set(f,pl(dl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ml.set(f,pl(ml.get(f)||null,e,n,a,o,h)),!0}return!1}function V_(e){var n=oi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,kn(e.priority,function(){D_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,kn(e.priority,function(){D_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Cd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Co=o,a.target.dispatchEvent(o),Co=null}else return n=An(a),n!==null&&C_(n),e.blockedOn=a,!1;n.shift()}return!0}function M_(e,n,a){bc(e)&&a.delete(n)}function VS(){Nd=!1,Or!==null&&bc(Or)&&(Or=null),Vr!==null&&bc(Vr)&&(Vr=null),Mr!==null&&bc(Mr)&&(Mr=null),dl.forEach(M_),ml.forEach(M_)}function wc(e,n){e.blockedOn===n&&(e.blockedOn=null,Nd||(Nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,VS)))}var Rc=null;function x_(e){Rc!==e&&(Rc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Dd(o||a)===null)continue;break}var f=An(a);f!==null&&(e.splice(n,3),n-=3,Cf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function za(e){function n(R){return wc(R,e)}Or!==null&&wc(Or,e),Vr!==null&&wc(Vr,e),Mr!==null&&wc(Mr,e),dl.forEach(n),ml.forEach(n);for(var a=0;a<xr.length;a++){var o=xr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<xr.length&&(a=xr[0],a.blockedOn===null);)V_(a),a.blockedOn===null&&xr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[Me]||null;if(typeof f=="function")g||x_(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Me]||null)E=g.formAction;else if(Dd(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),x_(a)}}}function U_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Od(e){this._internalRoot=e}Ic.prototype.render=Od.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=vn();R_(a,o,e,n,null,null)},Ic.prototype.unmount=Od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;R_(e.current,2,null,e,null,null),oc(),n[si]=null}};function Ic(e){this._internalRoot=e}Ic.prototype.unstable_scheduleHydration=function(e){if(e){var n=ou();e={blockedOn:null,target:e,priority:n};for(var a=0;a<xr.length&&n!==0&&n<xr[a].priority;a++);xr.splice(a,0,e),a===0&&V_(e)}};var L_=t.version;if(L_!=="19.2.3")throw Error(s(527,L_,"19.2.3"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var MS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Ln=Cc.inject(MS),Pe=Cc}catch{}}return yl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=Hg,f=Fg,g=Gg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=b_(e,1,!1,null,null,a,o,null,h,f,g,U_),e[si]=n.current,fd(e),new Od(n)},yl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=Hg,g=Fg,E=Gg,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=b_(e,1,!0,n,a??null,o,h,R,f,g,E,U_),n.context=w_(null),a=n.current,o=vn(),o=cs(o),h=vr(o),h.callback=null,Er(a,h,o),a=o,n.current.lanes=a,ls(n,a),Ti(n),e[si]=n.current,fd(e),new Ic(n)},yl.version="19.2.3",yl}var Q_;function HS(){if(Q_)return xd.exports;Q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),xd.exports=jS(),xd.exports}var FS=HS();const GS=()=>{};var K_={};const bE=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},QS=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},wE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let V=(p&15)<<2|_>>6,F=_&63;y||(F=64,d||(V=64)),s.push(i[A],i[S],i[V],i[F])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(bE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):QS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||S==null)throw new KS;const V=c<<2|p>>4;if(s.push(V),_!==64){const F=p<<4&240|_>>2;if(s.push(F),S!==64){const Z=_<<6&192|S;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class KS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YS=function(r){const t=bE(r);return wE.encodeByteArray(t,!0)},Gc=function(r){return YS(r).replace(/\./g,"")},RE=function(r){try{return wE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function XS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ZS=()=>XS().__FIREBASE_DEFAULTS__,JS=()=>{if(typeof process>"u"||typeof K_>"u")return;const r=K_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$S=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&RE(r[1]);return t&&JSON.parse(t)},uh=()=>{try{return GS()||ZS()||JS()||$S()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},IE=r=>uh()?.emulatorHosts?.[r],WS=r=>{const t=IE(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},CE=()=>uh()?.config,DE=r=>uh()?.[`_${r}`];class tb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function io(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function NE(r){return(await fetch(r,{credentials:"include"})).ok}function eb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const bl={};function nb(){const r={prod:[],emulator:[]};for(const t of Object.keys(bl))bl[t]?r.emulator.push(t):r.prod.push(t);return r}function ib(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let Y_=!1;function OE(r,t){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||bl[r]===t||bl[r]||Y_)return;bl[r]=t;function i(V){return`__firebase__banner__${V}`}const s="__firebase__banner",c=nb().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,F){V.setAttribute("width","24"),V.setAttribute("id",F),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{Y_=!0,d()},V}function A(V,F){V.setAttribute("id",F),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=ib(s),F=i("text"),Z=document.getElementById(F)||document.createElement("span"),et=i("learnmore"),J=document.getElementById(et)||document.createElement("a"),ft=i("preprendIcon"),Et=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const pt=V.element;p(pt),A(J,et);const Qt=_();y(Et,ft),pt.append(Et,Z,J,Qt),document.body.appendChild(pt)}c?(Z.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function sb(){const r=uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ab(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ob(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function lb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ub(){const r=Je();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function cb(){return!sb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hb(){try{return typeof indexedDB=="object"}catch{return!1}}function fb(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const db="FirebaseError";class nr extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=db,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?mb(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new nr(l,p,s)}}function mb(r,t){return r.replace(pb,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const pb=/\{\$([^}]+)}/g;function gb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function zs(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(X_(c)&&X_(d)){if(!zs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function X_(r){return r!==null&&typeof r=="object"}function Hl(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function _l(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function vl(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function yb(r,t){const i=new _b(r,t);return i.subscribe.bind(i)}class _b{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");vb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=kd),l.error===void 0&&(l.error=kd),l.complete===void 0&&(l.complete=kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vb(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function kd(){}function Ge(r){return r&&r._delegate?r._delegate:r}class Bs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Us="[DEFAULT]";class Eb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new tb;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ab(t))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Us){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Us){return this.instances.has(t)}getOptions(t=Us){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Tb(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Us){return this.component?this.component.multipleInstances?t:Us:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Tb(r){return r===Us?void 0:r}function Ab(r){return r.instantiationMode==="EAGER"}class Sb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Eb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const bb={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},wb=Dt.INFO,Rb={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},Ib=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=Rb[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rm{constructor(t){this.name=t,this._logLevel=wb,this._logHandler=Ib,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?bb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const Cb=(r,t)=>t.some(i=>r instanceof i);let Z_,J_;function Db(){return Z_||(Z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nb(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VE=new WeakMap,Zd=new WeakMap,ME=new WeakMap,zd=new WeakMap,Im=new WeakMap;function Ob(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(jr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&VE.set(i,r)}).catch(()=>{}),Im.set(t,r),t}function Vb(r){if(Zd.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Zd.set(r,t)}let Jd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Zd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||ME.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return jr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Mb(r){Jd=r(Jd)}function xb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(Bd(this),t,...i);return ME.set(s,t.sort?t.sort():[t]),jr(s)}:Nb().includes(r)?function(...t){return r.apply(Bd(this),t),jr(VE.get(this))}:function(...t){return jr(r.apply(Bd(this),t))}}function Ub(r){return typeof r=="function"?xb(r):(r instanceof IDBTransaction&&Vb(r),Cb(r,Db())?new Proxy(r,Jd):r)}function jr(r){if(r instanceof IDBRequest)return Ob(r);if(zd.has(r))return zd.get(r);const t=Ub(r);return t!==r&&(zd.set(r,t),Im.set(t,r)),t}const Bd=r=>Im.get(r);function Lb(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=jr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(jr(d.result),y.oldVersion,y.newVersion,jr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const Pb=["get","getKey","getAll","getAllKeys","count"],kb=["put","add","delete","clear"],qd=new Map;function $_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(qd.get(t))return qd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=kb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||Pb.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return qd.set(t,c),c}Mb(r=>({...r,get:(t,i,s)=>$_(t,i)||r.get(t,i,s),has:(t,i)=>!!$_(t,i)||r.has(t,i)}));class zb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Bb(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Bb(r){return r.getComponent()?.type==="VERSION"}const $d="@firebase/app",W_="0.14.6";const $i=new Rm("@firebase/app"),qb="@firebase/app-compat",jb="@firebase/analytics-compat",Hb="@firebase/analytics",Fb="@firebase/app-check-compat",Gb="@firebase/app-check",Qb="@firebase/auth",Kb="@firebase/auth-compat",Yb="@firebase/database",Xb="@firebase/data-connect",Zb="@firebase/database-compat",Jb="@firebase/functions",$b="@firebase/functions-compat",Wb="@firebase/installations",t1="@firebase/installations-compat",e1="@firebase/messaging",n1="@firebase/messaging-compat",i1="@firebase/performance",r1="@firebase/performance-compat",s1="@firebase/remote-config",a1="@firebase/remote-config-compat",o1="@firebase/storage",l1="@firebase/storage-compat",u1="@firebase/firestore",c1="@firebase/ai",h1="@firebase/firestore-compat",f1="firebase",d1="12.6.0";const Wd="[DEFAULT]",m1={[$d]:"fire-core",[qb]:"fire-core-compat",[Hb]:"fire-analytics",[jb]:"fire-analytics-compat",[Gb]:"fire-app-check",[Fb]:"fire-app-check-compat",[Qb]:"fire-auth",[Kb]:"fire-auth-compat",[Yb]:"fire-rtdb",[Xb]:"fire-data-connect",[Zb]:"fire-rtdb-compat",[Jb]:"fire-fn",[$b]:"fire-fn-compat",[Wb]:"fire-iid",[t1]:"fire-iid-compat",[e1]:"fire-fcm",[n1]:"fire-fcm-compat",[i1]:"fire-perf",[r1]:"fire-perf-compat",[s1]:"fire-rc",[a1]:"fire-rc-compat",[o1]:"fire-gcs",[l1]:"fire-gcs-compat",[u1]:"fire-fst",[h1]:"fire-fst-compat",[c1]:"fire-vertex","fire-js":"fire-js",[f1]:"fire-js-all"};const Qc=new Map,p1=new Map,tm=new Map;function tv(r,t){try{r.container.addComponent(t)}catch(i){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Za(r){const t=r.name;if(tm.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;tm.set(t,r);for(const i of Qc.values())tv(i,r);for(const i of p1.values())tv(i,r);return!0}function Cm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function xn(r){return r==null?!1:r.settings!==void 0}const g1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new jl("app","Firebase",g1);class y1{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}const ro=d1;function xE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:Wd,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Hr.create("bad-app-name",{appName:String(l)});if(i||(i=CE()),!i)throw Hr.create("no-options");const c=Qc.get(l);if(c){if(zs(i,c.options)&&zs(s,c.config))return c;throw Hr.create("duplicate-app",{appName:l})}const d=new Sb(l);for(const y of tm.values())d.addComponent(y);const p=new y1(i,s,d);return Qc.set(l,p),p}function UE(r=Wd){const t=Qc.get(r);if(!t&&r===Wd&&CE())return xE();if(!t)throw Hr.create("no-app",{appName:r});return t}function Fr(r,t,i){let s=m1[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}Za(new Bs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const _1="firebase-heartbeat-database",v1=1,Nl="firebase-heartbeat-store";let jd=null;function LE(){return jd||(jd=Lb(_1,v1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Nl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Hr.create("idb-open",{originalErrorMessage:r.message})})),jd}async function E1(r){try{const i=(await LE()).transaction(Nl),s=await i.objectStore(Nl).get(PE(r));return await i.done,s}catch(t){if(t instanceof nr)$i.warn(t.message);else{const i=Hr.create("idb-get",{originalErrorMessage:t?.message});$i.warn(i.message)}}}async function ev(r,t){try{const s=(await LE()).transaction(Nl,"readwrite");await s.objectStore(Nl).put(t,PE(r)),await s.done}catch(i){if(i instanceof nr)$i.warn(i.message);else{const s=Hr.create("idb-set",{originalErrorMessage:i?.message});$i.warn(s.message)}}}function PE(r){return`${r.name}!${r.options.appId}`}const T1=1024,A1=30;class S1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new w1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>A1){const l=R1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){$i.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=nv(),{heartbeatsToSend:i,unsentEntries:s}=b1(this._heartbeatsCache.heartbeats),l=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return $i.warn(t),""}}}function nv(){return new Date().toISOString().substring(0,10)}function b1(r,t=T1){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),iv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),iv(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class w1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hb()?fb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await E1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return ev(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return ev(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function iv(r){return Gc(JSON.stringify({version:2,heartbeats:r})).length}function R1(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}function I1(r){Za(new Bs("platform-logger",t=>new zb(t),"PRIVATE")),Za(new Bs("heartbeat",t=>new S1(t),"PRIVATE")),Fr($d,W_,r),Fr($d,W_,"esm2020"),Fr("fire-js","")}I1("");var rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gr,kE;(function(){var r;function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,N,U){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return b.prototype[N].apply(M,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const M=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)M[N]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(N=0;N<16;++N)M[N]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],N=C.g[2];let U=C.g[3],w;w=b+(U^I&(N^U))+M[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(N^b&(I^N))+M[1]+3905402710&4294967295,U=b+(w<<12&4294967295|w>>>20),w=N+(I^U&(b^I))+M[2]+606105819&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(b^N&(U^b))+M[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(U^I&(N^U))+M[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(N^b&(I^N))+M[5]+1200080426&4294967295,U=b+(w<<12&4294967295|w>>>20),w=N+(I^U&(b^I))+M[6]+2821735955&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(b^N&(U^b))+M[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(U^I&(N^U))+M[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(N^b&(I^N))+M[9]+2336552879&4294967295,U=b+(w<<12&4294967295|w>>>20),w=N+(I^U&(b^I))+M[10]+4294925233&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(b^N&(U^b))+M[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(U^I&(N^U))+M[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=U+(N^b&(I^N))+M[13]+4254626195&4294967295,U=b+(w<<12&4294967295|w>>>20),w=N+(I^U&(b^I))+M[14]+2792965006&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(b^N&(U^b))+M[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(N^U&(I^N))+M[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(b^I))+M[6]+3225465664&4294967295,U=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(U^b))+M[11]+643717713&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(N^U))+M[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^U&(I^N))+M[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(b^I))+M[10]+38016083&4294967295,U=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(U^b))+M[15]+3634488961&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(N^U))+M[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^U&(I^N))+M[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(b^I))+M[14]+3275163606&4294967295,U=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(U^b))+M[3]+4107603335&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(N^U))+M[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^U&(I^N))+M[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(b^I))+M[2]+4243563512&4294967295,U=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(U^b))+M[7]+1735328473&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^b&(N^U))+M[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(I^N^U)+M[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^N)+M[8]+2272392833&4294967295,U=b+(w<<11&4294967295|w>>>21),w=N+(U^b^I)+M[11]+1839030562&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^b)+M[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^U)+M[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^N)+M[4]+1272893353&4294967295,U=b+(w<<11&4294967295|w>>>21),w=N+(U^b^I)+M[7]+4139469664&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^b)+M[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^U)+M[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^N)+M[0]+3936430074&4294967295,U=b+(w<<11&4294967295|w>>>21),w=N+(U^b^I)+M[3]+3572445317&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^b)+M[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^U)+M[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=U+(b^I^N)+M[12]+3873151461&4294967295,U=b+(w<<11&4294967295|w>>>21),w=N+(U^b^I)+M[15]+530742520&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^b)+M[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(N^(I|~U))+M[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~N))+M[7]+1126891415&4294967295,U=b+(w<<10&4294967295|w>>>22),w=N+(b^(U|~I))+M[14]+2878612391&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~b))+M[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~U))+M[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~N))+M[3]+2399980690&4294967295,U=b+(w<<10&4294967295|w>>>22),w=N+(b^(U|~I))+M[10]+4293915773&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~b))+M[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~U))+M[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~N))+M[15]+4264355552&4294967295,U=b+(w<<10&4294967295|w>>>22),w=N+(b^(U|~I))+M[6]+2734768916&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~b))+M[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~U))+M[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=U+(I^(b|~N))+M[11]+3174756917&4294967295,U=b+(w<<10&4294967295|w>>>22),w=N+(b^(U|~I))+M[2]+718787259&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+U&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,M=this.C;let N=this.h,U=0;for(;U<b;){if(N==0)for(;U<=I;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<b;)if(M[N++]=C.charCodeAt(U++),N==this.blockSize){l(this,M),N=0;break}}else for(;U<b;)if(M[N++]=C[U++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[b++]=this.g[I]>>>M&255;return C};function c(C,b){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let M=!0;for(let N=C.length-1;N>=0;N--){const U=C[N]|0;M&&U==b||(I[N]=U,M=!1)}this.g=I}var p={};function y(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return J(_(-C));const b=[];let I=1;for(let M=0;C>=I;M++)b[M]=C/I|0,I*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return J(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(b,8));let M=S;for(let U=0;U<C.length;U+=8){var N=Math.min(8,C.length-U);const w=parseInt(C.substring(U,U+N),b);N<8?(N=_(Math.pow(b,N)),M=M.j(N).add(_(w))):(M=M.j(I),M=M.add(_(w)))}return M}var S=y(0),V=y(1),F=y(16777216);r=d.prototype,r.m=function(){if(et(this))return-J(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(et(this))return"-"+J(this).toString(C);const b=_(Math.pow(C,6));var I=this;let M="";for(;;){const N=Qt(I,b).g;I=ft(I,N.j(b));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,Z(I))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function et(C){return C.h==-1}r.l=function(C){return C=ft(this,C),et(C)?-1:Z(C)?0:1};function J(C){const b=C.g.length,I=[];for(let M=0;M<b;M++)I[M]=~C.g[M];return new d(I,~C.h).add(V)}r.abs=function(){return et(this)?J(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let N=0;N<=b;N++){let U=M+(this.i(N)&65535)+(C.i(N)&65535),w=(U>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=w>>>16,U&=65535,w&=65535,I[N]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ft(C,b){return C.add(J(b))}r.j=function(C){if(Z(this)||Z(C))return S;if(et(this))return et(C)?J(this).j(J(C)):J(J(this).j(C));if(et(C))return J(this.j(J(C)));if(this.l(F)<0&&C.l(F)<0)return _(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var M=0;M<2*b;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const U=this.i(M)>>>16,w=this.i(M)&65535,ie=C.i(N)>>>16,Ce=C.i(N)&65535;I[2*M+2*N]+=w*Ce,Et(I,2*M+2*N),I[2*M+2*N+1]+=U*Ce,Et(I,2*M+2*N+1),I[2*M+2*N+1]+=w*ie,Et(I,2*M+2*N+1),I[2*M+2*N+2]+=U*ie,Et(I,2*M+2*N+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function Et(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function pt(C,b){this.g=C,this.h=b}function Qt(C,b){if(Z(b))throw Error("division by zero");if(Z(C))return new pt(S,S);if(et(C))return b=Qt(J(C),b),new pt(J(b.g),J(b.h));if(et(b))return b=Qt(C,J(b)),new pt(J(b.g),b.h);if(C.g.length>30){if(et(C)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var I=V,M=b;M.l(C)<=0;)I=Wt(I),M=Wt(M);var N=Ut(I,1),U=Ut(M,1);for(M=Ut(M,2),I=Ut(I,2);!Z(M);){var w=U.add(M);w.l(C)<=0&&(N=N.add(I),U=w),M=Ut(M,1),I=Ut(I,1)}return b=ft(C,N.j(b)),new pt(N,b)}for(N=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=_(I),w=U.j(b);et(w)||w.l(C)>0;)I-=M,U=_(I),w=U.j(b);Z(U)&&(U=V),N=N.add(U),C=ft(C,w)}return new pt(N,C)}r.B=function(C){return Qt(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function Wt(C){const b=C.g.length+1,I=[];for(let M=0;M<b;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function Ut(C,b){const I=b>>5;b%=32;const M=C.g.length-I,N=[];for(let U=0;U<M;U++)N[U]=b>0?C.i(U+I)>>>b|C.i(U+I+1)<<32-b:C.i(U+I);return new d(N,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,kE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Gr=d}).apply(typeof rv<"u"?rv:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zE,El,BE,Uc,em,qE,jE,HE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var $=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)$[Tt-2]=arguments[Tt];return m.prototype[L].apply(T,$)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let $=0;$<B;$++)u[v+$]=L[$]}else u.push(L)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const T=pt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var pt=new et(()=>new Qt,u=>u.reset());class Qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,Ut=!1,C=new Et,b=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(I)}};function I(){for(var u;u=ft();){try{u.h.call(u.g)}catch(v){J(v)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ut=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ie,N),ie.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),H=0;function W(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function jt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const $=St(u,m,T,L);return $>-1?(m=u[$],v||(m.fa=!1)):(m=new W(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function gt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),De={};function re(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],v,T,L);return null}return v=mo(v),u&&u[Ce]?u.J(m,v,p(T)?!!T.capture:!1,L):rs(u,m,v,!1,T,L)}function rs(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const $=p(L)?!!L.capture:!!L;let Tt=ss(u);if(Tt||(u[Mt]=Tt=new st(u)),v=Tt.add(m,v,T,$,B),v.proxy)return v;if(T=Zs(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=$),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(ti(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Zs(){function u(v){return m.call(u.src,u.listener,v)}const m=ho;return u}function Js(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Js(u,m[B],v,T,L);else T=p(T)?!!T.capture:!!T,v=mo(v),u&&u[Ce]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=St(m,v,T,L),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ss(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,L)),(v=u>-1?m[u]:null)&&$s(v))}function $s(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])gt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ti(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ss(m))?(gt(v,u),v.h==0&&(v.src=null,m[Mt]=null)):ct(u)}}}function ti(u){return u in De?De[u]:De[u]="on"+u}function ho(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&$s(u),u=v.call(T,m)}return u}function ss(u){return u=u[Mt],u instanceof st?u:null}var fo="__closure_events_fn_"+(Math.random()*1e9>>>0);function mo(u){return typeof u=="function"?u:(u[fo]||(u[fo]=function(m){return u.handleEvent(m)}),u[fo])}function ge(){M.call(this),this.i=new st(this),this.M=this,this.G=null}S(ge,M),ge.prototype[Ce]=!0,ge.prototype.removeEventListener=function(u,m,v,T){Js(this,u,m,v,T)};function Ne(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),tt(m,L)}L=!0;let B,$;if(v)for($=v.length-1;$>=0;$--)B=m.g=v[$],L=ir(B,T,!0,m)&&L;if(B=m.g=u,L=ir(B,T,!0,m)&&L,L=ir(B,T,!1,m)&&L,v)for($=0;$<v.length;$++)B=m.g=v[$],L=ir(B,T,!1,m)&&L}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ct(v[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ge.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ir(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const $=m[B];if($&&!$.da&&$.capture==v){const Tt=$.listener,fe=$.ha||$.src;$.fa&&gt(u.i,$),L=Tt.call(fe,T)!==!1&&L}}return L&&!T.defaultPrevented}function Mh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function tu(u){u.g=Mh(()=>{u.g=null,u.i&&(u.i=!1,tu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:tu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(u){M.call(this),this.h=u,this.g={}}S(as,M);var po=[];function go(u){Lt(u.g,function(m,v){this.g.hasOwnProperty(v)&&$s(m)},u),u.g={}}as.prototype.N=function(){as.Z.N.call(this),go(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rr=d.JSON.stringify,xh=d.JSON.parse,eu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function nu(){}function iu(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){N.call(this,"d")}S(Pe,N);function Tn(){N.call(this,"c")}S(Tn,N);var he={},ru=null;function Ws(){return ru=ru||new ge}he.Ia="serverreachability";function su(u){N.call(this,he.Ia,u)}S(su,N);function ei(u){const m=Ws();Ne(m,new su(m))}he.STAT_EVENT="statevent";function os(u,m){N.call(this,he.STAT_EVENT,u),this.stat=m}S(os,N);function ye(u){const m=Ws();Ne(m,new os(m,u))}he.Ja="timingevent";function ni(u,m){N.call(this,he.Ja,u),this.size=m}S(ni,N);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Uh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var $="",Tt=B.split("&");for(let zt=0;zt<Tt.length;zt++){var fe=Tt[zt].split("=");if(fe.length>1){const se=fe[0];fe=fe[1];const wn=se.split("_");$=wn.length>=2&&wn[1]=="type"?$+(se+"="+fe+"&"):$+(se+"=redacted&")}}}else $=null;else $=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+$})}function au(u,m,v,T,L,B,$){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+$})}function ri(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lh(u,v)+(T?" "+T:"")})}function ls(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function Lh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let $=1;$<T.length;$++)T[$]=""}}}}return rr(B)}catch{return m}}var us={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_o;function cs(){}S(cs,nu),cs.prototype.g=function(){return new XMLHttpRequest},_o=new cs;function Ni(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function kn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new as(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var _e={},Me={};function si(u,m,v){u.M=1,u.A=hs(Ee(m)),u.u=v,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),ai(u),u.B=Ee(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ra(v.i,"t",T),u.C=0,v=u.j.L,u.h=new zn,u.g=Au(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $e(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(po[0]=L.toString()),L=po);for(let B=0;B<L.length;B++){const $=re(v,L[B],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),Uh(u.i,u.v,u.B,u.l,u.S,u.u)}kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&jn(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=jn(this.g),fe=this.g.ya(),zt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||ke(this.g)))){this.K||Tt!=4||fe==7||(fe==8||zt<=0?ei(3):ei(2)),oi(this);var m=this.g.ca();this.X=m;var v=Ph(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,ye(12),hn(this),An(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<v.length;)if(se=uu(this,v),se==Me){Tt==4&&(this.m=4,ye(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(se==_e){this.m=4,ye(15),ri(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,se,null),li(this,se);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,v,"[Invalid Chunked Response]"),hn(this),An(this);else if(v.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Mo($),$.P=!0,ye(11))}}else ri(this.i,this.l,v,null),li(this,v);Tt==4&&hn(this),this.o&&!this.K&&(Tt==4?_u(this.j,this):(this.o=!1,ai(this)))}else Vi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),hn(this),An(this)}}}catch{}};function Ph(u){if(!lu(u))return u.g.la();const m=ke(u.g);if(m==="")return"";let v="";const T=m.length,L=jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),An(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Me:(v=Number(m.substring(v,T)),isNaN(v)?_e:(T+=1,T+v>m.length?Me:(m=m.slice(T,T+v),u.C=T+v,m)))}kn.prototype.cancel=function(){this.K=!0,hn(this)};function ai(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(_(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ls(this.i,this.B),this.M!=2&&(ei(),ye(17)),hn(this),this.m=2,An(this)):ea(this,this.T-u)};function An(u){u.j.I==0||u.K||_u(u.j,u)}function hn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,go(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ci(v.h,u))){if(!u.L&&ci(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ua(v),fr(v);else break t;_s(v),ye(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(_(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((u.L||v.g==u)&&ua(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let zt=L[m];const se=zt[0];if(!(se<=v.K))if(v.K=se,zt=zt[1],v.I==2)if(zt[0]=="c"){v.M=zt[1],v.ba=zt[2];const wn=zt[3];wn!=null&&(v.ka=wn,v.j.info("VER="+v.ka));const yi=zt[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Hn=zt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(T=1.5*Hn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Fn=u.g;if(Fn){const vs=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var B=T.h;B.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(To(B,B.h),B.h=null))}if(T.G){const ca=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(T.wa=ca,Ht(T.J,T.G,ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var $=u;if(T.na=Tu(T,T.L?T.ba:null,T.W),$.L){Ao(T.h,$);var Tt=$,fe=T.O;fe&&(Tt.H=fe),Tt.D&&(oi(Tt),ai(Tt)),T.g=$}else gu(T);v.i.length>0&&pi(v)}else zt[0]!="stop"&&zt[0]!="close"||gi(v,7);else v.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?gi(v,7):Oo(v):zt[0]!="noop"&&v.l&&v.l.qa(zt),v.A=0)}}ei(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function vo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Eo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function To(u,m){u.g?u.g.add(m):u.h=m}function Ao(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vo.prototype.cancel=function(){if(this.i=So(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function So(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,sr(this,u.u),this.h=u.h,bo(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,xe(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),sr(this,m[4]),this.h=hi(m[5]||"",!0),bo(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new or(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(fs(m,ia,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fs(m,ia,!0),"@"),u.push(Ni(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(fs(v,v.charAt(0)=="/"?wo:hu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",fs(v,fu)),u.join("")},fn.prototype.resolve=function(u){const m=Ee(this);let v=!!u.j;v?xe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)sr(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let $=0;$<L.length;){const Tt=L[$++];Tt=="."?T&&$==L.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&$==L.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?bo(m,mu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ee(u){return new fn(u)}function xe(u,m,v){u.j=v?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function sr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function bo(u,m,v){m instanceof or?(u.i=m,sa(u.i,u.l)):(v||(m=fs(m,ar)),u.i=new or(m,u.l))}function Ht(u,m,v){u.i.set(m,v)}function hs(u){return Ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fs(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,en),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,hu=/[#\?:]/g,wo=/[#\?]/g,ar=/[#\?@]/g,fu=/#/g;function or(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&na(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=or.prototype,r.add=function(u,m){nn(this),this.i=null,u=lr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function du(u,m){nn(u),m=lr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ro(u,m){return nn(u),m=lr(u,m),u.g.has(m)}r.forEach=function(u,m){nn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Io(u,m){nn(u);let v=[];if(typeof m=="string")Ro(u,m)&&(v=v.concat(u.g.get(lr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return nn(this),this.i=null,u=lr(this,u),Ro(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Io(this,u),u.length>0?String(u[0]):m):m};function ra(u,m,v){du(u,m),v.length>0&&(u.i=null,u.g.set(lr(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Ni(v);v=Io(this,v);for(let B=0;B<v.length;B++){let $=L;v[B]!==""&&($+="="+Ni(v[B])),u.push($)}}return this.i=u.join("&")};function mu(u){const m=new or;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function lr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function sa(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(du(this,T),ra(this,L,v))},u)),u.j=m}function Bn(u,m){const v=new Pn;if(d.Image){const T=new Image;T.onload=A(Sn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Sn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(Sn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Sn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Co(u,m){const v=new Pn,T=new AbortController,L=setTimeout(()=>{T.abort(),Sn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Sn(v,"TestPingServer: ok",!0,m):Sn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Sn(v,"TestPingServer: error",!1,m)})}function Sn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function ur(){this.g=new eu}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(fi,nu),fi.prototype.g=function(){return new ds(this.i,this.h)};function ds(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ds,ge),r=ds.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cr(this):qn(this),this.readyState==3&&aa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,cr(this))},r.Na=function(u){this.g&&(this.response=u,cr(this))},r.ga=function(){this.g&&cr(this)};function cr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bn(u){let m="";return Lt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function ms(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=bn(v),typeof u=="string"?v!=null&&Ni(v):Ht(u,m,v))}function Kt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,ge);var di=/^https?$/i,Do=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_o.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){ps(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Do,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,$]of v)this.g.setRequestHeader(B,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){ps(this,B)}};function ps(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,No(u),Oi(u)}function No(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Oi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?gs(this):this.Xa())},r.Xa=function(){gs(this)};function gs(u){if(u.h&&typeof c<"u"){if(u.v&&jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let $=String(u.D).match(cu)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),T=!di.test($?$.toLowerCase():"")}v=T}if(v)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var L=jn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",No(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ne(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function jn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xh(m)}};function ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=ou(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}jt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function hr(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new vo(u&&u.concurrentRequestLimit),this.Ba=new ur,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=hr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){ye(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Tu(this,null,this.W),pi(this)};function Oo(u){if(oa(u),u.I==3){var m=u.V++,v=Ee(u.J);if(Ht(v,"SID",u.M),Ht(v,"RID",m),Ht(v,"TYPE","terminate"),ys(u,v),m=new kn(u,u.j,m),m.M=2,m.A=hs(Ee(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Au(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}Eu(u)}function fr(u){u.g&&(Mo(u),u.g.cancel(),u.g=null)}function oa(u){fr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function pi(u){if(!Eo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||b(),Ut||(Wt(),Ut=!0),C.add(m,u),u.D=0}}function la(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(_(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new kn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),tt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=pu(this,L,m),v=Ee(this.J),Ht(v,"RID",u),Ht(v,"CVER",22),this.G&&Ht(v,"X-HTTP-Session-Id",this.G),ys(this,v),B&&(this.R?m="headers="+Ni(bn(B))+"&"+m:this.u&&ms(v,this.u,B)),To(this.h,L),this.Ra&&Ht(v,"TYPE","init"),this.S?(Ht(v,"$req",m),Ht(v,"SID","null"),L.U=!0,si(L,v,null)):si(L,v,m),this.I=2}}else this.I==3&&(u?Vo(this,u):this.i.length==0||Eo(this.h)||Vo(this))};function Vo(u,m){var v;m?v=m.l:v=u.V++;const T=Ee(u.J);Ht(T,"SID",u.M),Ht(T,"RID",v),Ht(T,"AID",u.K),ys(u,T),u.u&&u.o&&ms(T,u.u,u.o),v=new kn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),To(u.h,v),si(v,T,m)}function ys(u,m){u.H&&Lt(u.H,function(v,T){Ht(m,T,v)}),u.l&&Lt({},function(v,T){Ht(m,T,v)})}function pu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Tt=-1;for(;;){const fe=["count="+v];Tt==-1?v>0?(Tt=L[0].g,fe.push("ofs="+Tt)):Tt=0:fe.push("ofs="+Tt);let zt=!0;for(let se=0;se<v;se++){var B=L[se].g;const wn=L[se].map;if(B-=Tt,B<0)Tt=Math.max(0,L[se].g-100),zt=!1;else try{B="req"+B+"_"||"";try{var $=wn instanceof Map?wn:Object.entries(wn);for(const[yi,Hn]of $){let Fn=Hn;p(Hn)&&(Fn=rr(Hn)),fe.push(B+yi+"="+encodeURIComponent(Fn))}}catch(yi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),yi}}catch{T&&T(wn)}}if(zt){$=fe.join("&");break t}}$=void 0}return u=u.i.splice(0,v),m.G=u,$}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||b(),Ut||(Wt(),Ut=!0),C.add(m,u),u.A=0}}function _s(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(_(u.Da,u),vu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),fr(this),yu(this))};function Mo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Ht(m,"RID","rpc"),Ht(m,"SID",u.M),Ht(m,"AID",u.K),Ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ht(m,"TO",u.ia),Ht(m,"TYPE","xmlhttp"),ys(u,m),u.u&&u.o&&ms(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=hs(Ee(m)),v.u=null,v.R=!0,ta(v,u)}r.Va=function(){this.C!=null&&(this.C=null,fr(this),_s(this),ye(19))};function ua(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var v=null;if(u.g==m){ua(u),Mo(u),u.g=null;var T=2}else if(ci(u.h,m))v=m.G,Ao(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Ws(),Ne(T,new ni(T,v)),pi(u)}else gu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&la(u,m)||T==2&&_s(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function vu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new fn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(T,"https"),hs(T),L?Bn(T.toString(),v):Co(T.toString(),v)}else ye(2);u.I=0,u.l&&u.l.pa(m),Eu(u),oa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Eu(u){if(u.I=0,u.ja=[],u.l){const m=So(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Tu(u,m,v){var T=v instanceof fn?Ee(v):new fn(v);if(T.g!="")m&&(T.g=m+"."+T.g),sr(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new fn(null);T&&xe(B,T),m&&(B.g=m),L&&sr(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Ht(T,v,m),Ht(T,"VER",u.ka),ys(u,T),T}function Au(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new fi({ab:v})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function dr(){}dr.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ge.call(this),this.g=new hr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}S(We,ge),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Oo(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=rr(u),u=v);m.i.push(new ve(m.Ya++,u)),m.I==3&&pi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,We.Z.N.call(this)};function bu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(bu,Pe);function wu(){Tn.call(this),this.status=1}S(wu,Tn);function Mi(u){this.g=u}S(Mi,Su),Mi.prototype.ra=function(){Ne(this.g,"a")},Mi.prototype.qa=function(u){Ne(this.g,new bu(u))},Mi.prototype.pa=function(u){Ne(this.g,new wu)},Mi.prototype.oa=function(){Ne(this.g,"b")},dr.prototype.createWebChannel=dr.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,HE=function(){return new dr},jE=function(){return Ws()},qE=he,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},us.NO_ERROR=0,us.TIMEOUT=8,us.HTTP_ERROR=6,Uc=us,yo.COMPLETE="complete",BE=yo,iu.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",ge.prototype.listen=ge.prototype.J,El=iu,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,zE=Kt}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const sv="@firebase/firestore",av="4.9.3";class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let so="12.7.0";const qs=new Rm("@firebase/firestore");function Ba(){return qs.logLevel}function rt(r,...t){if(qs.logLevel<=Dt.DEBUG){const i=t.map(Dm);qs.debug(`Firestore (${so}): ${r}`,...i)}}function Wi(r,...t){if(qs.logLevel<=Dt.ERROR){const i=t.map(Dm);qs.error(`Firestore (${so}): ${r}`,...i)}}function Ja(r,...t){if(qs.logLevel<=Dt.WARN){const i=t.map(Dm);qs.warn(`Firestore (${so}): ${r}`,...i)}}function Dm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function mt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,FE(r,s,i)}function FE(r,t,i){let s=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Wi(s),new Error(s)}function qt(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||FE(t,l,s)}function vt(r,t){return r}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends nr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class GE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class C1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class D1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class N1{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Qr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Qr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new GE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class O1{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V1{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new O1(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ov{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M1{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const s=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ov(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new ov(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function x1(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Nm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=x1(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Nt(r,t){return r<t?-1:r>t?1:0}function nm(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return Hd(l)===Hd(c)?Nt(l,c):Hd(l)?1:-1}return Nt(r.length,t.length)}const U1=55296,L1=57343;function Hd(r){const t=r.charCodeAt(0);return t>=U1&&t<=L1}function $a(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}const lv="__name__";class Ai{constructor(t,i,s){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&mt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Ai.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ai?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=Ai.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Nt(t.length,i.length)}static compareSegments(t,i){const s=Ai.isNumericId(t),l=Ai.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Ai.extractNumericId(t).compare(Ai.extractNumericId(i)):nm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gr.fromString(t.substring(4,t.length-2))}}class $t extends Ai{construct(t,i,s){return new $t(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new it(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new $t(i)}static emptyPath(){return new $t([])}}const P1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends Ai{construct(t,i,s){return new Fe(t,i,s)}static isValidIdentifier(t){return P1.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lv}static keyField(){return new Fe([lv])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new it(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new it(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new it(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new it(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class ut{constructor(t){this.path=t}static fromPath(t){return new ut($t.fromString(t))}static fromName(t){return new ut($t.fromString(t).popFirst(5))}static empty(){return new ut($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$t.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return $t.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new $t(t.slice()))}}function QE(r,t,i){if(!i)throw new it(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function k1(r,t,i,s){if(t===!0&&s===!0)throw new it(Q.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function uv(r){if(!ut.isDocumentKey(r))throw new it(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function cv(r){if(ut.isDocumentKey(r))throw new it(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function KE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ch(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":mt(12329,{type:typeof r})}function Zn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new it(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ch(r);throw new it(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ie(r,t){const i={typeString:r};return t&&(i.value=t),i}function Fl(r,t){if(!KE(r))throw new it(Q.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new it(Q.INVALID_ARGUMENT,i);return!0}const hv=-62135596800,fv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*fv);return new ne(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new it(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<hv)throw new it(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-hv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ie("string",ne._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new ne(0,0))}static max(){return new yt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ol=-1;function z1(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(s===1e9?new ne(i+1,0):new ne(i,s));return new Yr(l,ut.empty(),t)}function B1(r){return new Yr(r.readTime,r.key,Ol)}class Yr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Yr(yt.min(),ut.empty(),Ol)}static max(){return new Yr(yt.max(),ut.empty(),Ol)}}function q1(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ut.comparator(r.documentKey,t.documentKey),i!==0?i:Nt(r.largestBatchId,t.largestBatchId))}const j1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ao(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==j1)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,s)=>{i(t)}))}static reject(t){return new X(((i,s)=>{s(t)}))}static waitFor(t){return new X(((i,s)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>s(y)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const s of t)i=i.next((l=>l?X.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new X(((s,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++p,p===c&&s(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function F1(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function oo(r){return r.name==="IndexedDbTransactionError"}class hh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hh.ce=-1;const Om=-1;function fh(r){return r==null}function Kc(r){return r===0&&1/r==-1/0}function G1(r){return typeof r=="number"&&Number.isInteger(r)&&!Kc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const YE="";function Q1(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=dv(t)),t=K1(r.get(i),t);return dv(t)}function K1(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case YE:i+="";break;default:i+=c}}return i}function dv(r){return r+YE+""}function mv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ts(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function XE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??He.RED,this.left=l??He.EMPTY,this.right=c??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new He(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new pv(this.data.getIterator())}getIteratorFrom(t){return new pv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class pv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class En{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new En([])}unionWith(t){let i=new Ve(Fe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new En(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return $a(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class ZE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ZE("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const Y1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const i=Y1.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zr(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const JE="server_timestamp",$E="__type__",WE="__previous_value__",tT="__local_write_time__";function Vm(r){return(r?.mapValue?.fields||{})[$E]?.stringValue===JE}function dh(r){const t=r.mapValue.fields[WE];return Vm(t)?dh(t):t}function Vl(r){const t=Xr(r.mapValue.fields[tT].timestampValue);return new ne(t.seconds,t.nanos)}class X1{constructor(t,i,s,l,c,d,p,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const Yc="(default)";class Ml{constructor(t,i){this.projectId=t,this.database=i||Yc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}const eT="__type__",Z1="__max__",Oc={mapValue:{}},nT="__vector__",Xc="value";function Jr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Vm(r)?4:$1(r)?9007199254740991:J1(r)?10:11:mt(28295,{value:r})}function Di(r,t){if(r===t)return!0;const i=Jr(r);if(i!==Jr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Vl(r).isEqual(Vl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Xr(l.timestampValue),p=Xr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Zr(l.bytesValue).isEqual(Zr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return pe(l.geoPointValue.latitude)===pe(c.geoPointValue.latitude)&&pe(l.geoPointValue.longitude)===pe(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return pe(l.integerValue)===pe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=pe(l.doubleValue),p=pe(c.doubleValue);return d===p?Kc(d)===Kc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return $a(r.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(mv(d)!==mv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Di(d[y],p[y])))return!1;return!0})(r,t);default:return mt(52216,{left:r})}}function xl(r,t){return(r.values||[]).find((i=>Di(i,t)))!==void 0}function Wa(r,t){if(r===t)return 0;const i=Jr(r),s=Jr(t);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=pe(c.integerValue||c.doubleValue),y=pe(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return gv(r.timestampValue,t.timestampValue);case 4:return gv(Vl(r),Vl(t));case 5:return nm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=Zr(c),y=Zr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=Nt(p[_],y[_]);if(A!==0)return A}return Nt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Nt(pe(c.latitude),pe(d.latitude));return p!==0?p:Nt(pe(c.longitude),pe(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return yv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Xc]?.arrayValue,A=y[Xc]?.arrayValue,S=Nt(_?.values?.length||0,A?.values?.length||0);return S!==0?S:yv(_,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const V=nm(y[S],A[S]);if(V!==0)return V;const F=Wa(p[y[S]],_[A[S]]);if(F!==0)return F}return Nt(y.length,A.length)})(r.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function gv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const i=Xr(r),s=Xr(t),l=Nt(i.seconds,s.seconds);return l!==0?l:Nt(i.nanos,s.nanos)}function yv(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Wa(i[l],s[l]);if(c)return c}return Nt(i.length,s.length)}function to(r){return im(r)}function im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Xr(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Zr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ut.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=im(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${im(i.fields[d])}`;return l+"}"})(r.mapValue):mt(61005,{value:r})}function Lc(r){switch(Jr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dh(r);return t?16+Lc(t):16;case 5:return 2*r.stringValue.length;case 6:return Zr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Lc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return ts(s.fields,((c,d)=>{l+=c.length+Lc(d)})),l})(r.mapValue);default:throw mt(13486,{value:r})}}function _v(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function rm(r){return!!r&&"integerValue"in r}function Mm(r){return!!r&&"arrayValue"in r}function vv(r){return!!r&&"nullValue"in r}function Ev(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Pc(r){return!!r&&"mapValue"in r}function J1(r){return(r?.mapValue?.fields||{})[eT]?.stringValue===nT}function wl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ts(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=wl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=wl(r.arrayValue.values[i]);return t}return{...r}}function $1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Z1}class cn{constructor(t){this.value=t}static empty(){return new cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Pc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=wl(i)}setAll(t){let i=Fe.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=wl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Pc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){ts(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new cn(wl(this.value))}}function iT(r){const t=[];return ts(r.fields,((i,s)=>{const l=new Fe([i]);if(Pc(s)){const c=iT(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new En(t)}class Ze{constructor(t,i,s,l,c,d,p){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,yt.min(),yt.min(),yt.min(),cn.empty(),0)}static newFoundDocument(t,i,s,l){return new Ze(t,1,i,yt.min(),s,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,yt.min(),yt.min(),cn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,yt.min(),yt.min(),cn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zc{constructor(t,i){this.position=t,this.inclusive=i}}function Tv(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ut.comparator(ut.fromName(d.referenceValue),i.key):s=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Av(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Di(r.position[i],t.position[i]))return!1;return!0}class Ul{constructor(t,i="asc"){this.field=t,this.dir=i}}function W1(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class rT{}class Re extends rT{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new ew(t,i,s):i==="array-contains"?new rw(t,s):i==="in"?new sw(t,s):i==="not-in"?new aw(t,s):i==="array-contains-any"?new ow(t,s):new Re(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new nw(t,s):new iw(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&Jr(this.value)===Jr(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends rT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new $n(t,i)}matches(t){return sT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sT(r){return r.op==="and"}function aT(r){return tw(r)&&sT(r)}function tw(r){for(const t of r.filters)if(t instanceof $n)return!1;return!0}function sm(r){if(r instanceof Re)return r.field.canonicalString()+r.op.toString()+to(r.value);if(aT(r))return r.filters.map((t=>sm(t))).join(",");{const t=r.filters.map((i=>sm(i))).join(",");return`${r.op}(${t})`}}function oT(r,t){return r instanceof Re?(function(s,l){return l instanceof Re&&s.op===l.op&&s.field.isEqual(l.field)&&Di(s.value,l.value)})(r,t):r instanceof $n?(function(s,l){return l instanceof $n&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&oT(d,l.filters[p])),!0):!1})(r,t):void mt(19439)}function lT(r){return r instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${to(i.value)}`})(r):r instanceof $n?(function(i){return i.op.toString()+" {"+i.getFilters().map(lT).join(" ,")+"}"})(r):"Filter"}class ew extends Re{constructor(t,i,s){super(t,i,s),this.key=ut.fromName(s.referenceValue)}matches(t){const i=ut.comparator(t.key,this.key);return this.matchesComparison(i)}}class nw extends Re{constructor(t,i){super(t,"in",i),this.keys=uT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class iw extends Re{constructor(t,i){super(t,"not-in",i),this.keys=uT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function uT(r,t){return(t.arrayValue?.values||[]).map((i=>ut.fromName(i.referenceValue)))}class rw extends Re{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Mm(i)&&xl(i.arrayValue,this.value)}}class sw extends Re{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&xl(this.value.arrayValue,i)}}class aw extends Re{constructor(t,i){super(t,"not-in",i)}matches(t){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!xl(this.value.arrayValue,i)}}class ow extends Re{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Mm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>xl(this.value.arrayValue,s)))}}class lw{constructor(t,i=null,s=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Sv(r,t=null,i=[],s=[],l=null,c=null,d=null){return new lw(r,t,i,s,l,c,d)}function xm(r){const t=vt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>sm(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),fh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>to(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>to(s))).join(",")),t.Te=i}return t.Te}function Um(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!W1(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!oT(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Av(r.startAt,t.startAt)&&Av(r.endAt,t.endAt)}function am(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class lo{constructor(t,i=null,s=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function uw(r,t,i,s,l,c,d,p){return new lo(r,t,i,s,l,c,d,p)}function mh(r){return new lo(r)}function bv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cT(r){return r.collectionGroup!==null}function Rl(r){const t=vt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Fe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Ul(c,s))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new Ul(Fe.keyField(),s))}return t.Ie}function Si(r){const t=vt(r);return t.Ee||(t.Ee=cw(t,Rl(r))),t.Ee}function cw(r,t){if(r.limitType==="F")return Sv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Ul(l.field,c)}));const i=r.endAt?new Zc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Zc(r.startAt.position,r.startAt.inclusive):null;return Sv(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function om(r,t){const i=r.filters.concat([t]);return new lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function lm(r,t,i){return new lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ph(r,t){return Um(Si(r),Si(t))&&r.limitType===t.limitType}function hT(r){return`${xm(Si(r))}|lt:${r.limitType}`}function qa(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>lT(l))).join(", ")}]`),fh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>to(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>to(l))).join(",")),`Target(${s})`})(Si(r))}; limitType=${r.limitType})`}function gh(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ut.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of Rl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,y){const _=Tv(d,p,y);return d.inclusive?_<=0:_<0})(s.startAt,Rl(s),l)||s.endAt&&!(function(d,p,y){const _=Tv(d,p,y);return d.inclusive?_>=0:_>0})(s.endAt,Rl(s),l))})(r,t)}function hw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fT(r){return(t,i)=>{let s=!1;for(const l of Rl(r)){const c=fw(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function fw(r,t,i){const s=r.field.isKeyField()?ut.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Wa(y,_):mt(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return mt(19790,{direction:r.dir})}}class Qs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ts(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return XE(this.inner)}size(){return this.innerSize}}const dw=new oe(ut.comparator);function tr(){return dw}const dT=new oe(ut.comparator);function Tl(...r){let t=dT;for(const i of r)t=t.insert(i.key,i);return t}function mT(r){let t=dT;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Ls(){return Il()}function pT(){return Il()}function Il(){return new Qs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const mw=new oe(ut.comparator),pw=new Ve(ut.comparator);function Ot(...r){let t=pw;for(const i of r)t=t.add(i);return t}const gw=new Ve(Nt);function yw(){return gw}function Lm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(t)?"-0":t}}function gT(r){return{integerValue:""+r}}function _w(r,t){return G1(t)?gT(t):Lm(r,t)}class yh{constructor(){this._=void 0}}function vw(r,t,i){return r instanceof Ll?(function(l,c){const d={fields:{[$E]:{stringValue:JE},[tT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Vm(c)&&(c=dh(c)),c&&(d.fields[WE]=c),{mapValue:d}})(i,t):r instanceof Pl?_T(r,t):r instanceof kl?vT(r,t):(function(l,c){const d=yT(l,c),p=wv(d)+wv(l.Ae);return rm(d)&&rm(l.Ae)?gT(p):Lm(l.serializer,p)})(r,t)}function Ew(r,t,i){return r instanceof Pl?_T(r,t):r instanceof kl?vT(r,t):i}function yT(r,t){return r instanceof Jc?(function(s){return rm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Ll extends yh{}class Pl extends yh{constructor(t){super(),this.elements=t}}function _T(r,t){const i=ET(t);for(const s of r.elements)i.some((l=>Di(l,s)))||i.push(s);return{arrayValue:{values:i}}}class kl extends yh{constructor(t){super(),this.elements=t}}function vT(r,t){let i=ET(t);for(const s of r.elements)i=i.filter((l=>!Di(l,s)));return{arrayValue:{values:i}}}class Jc extends yh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function wv(r){return pe(r.integerValue||r.doubleValue)}function ET(r){return Mm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Tw{constructor(t,i){this.field=t,this.transform=i}}function Aw(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof Pl&&l instanceof Pl||s instanceof kl&&l instanceof kl?$a(s.elements,l.elements,Di):s instanceof Jc&&l instanceof Jc?Di(s.Ae,l.Ae):s instanceof Ll&&l instanceof Ll})(r.transform,t.transform)}class Sw{constructor(t,i){this.version=t,this.transformResults=i}}class Jn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Jn}static exists(t){return new Jn(void 0,t)}static updateTime(t){return new Jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class _h{}function TT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new ST(r.key,Jn.none()):new Gl(r.key,r.data,Jn.none());{const i=r.data,s=cn.empty();let l=new Ve(Fe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new es(r.key,s,new En(l.toArray()),Jn.none())}}function bw(r,t,i){r instanceof Gl?(function(l,c,d){const p=l.value.clone(),y=Iv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof es?(function(l,c,d){if(!kc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Iv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(AT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Cl(r,t,i,s){return r instanceof Gl?(function(c,d,p,y){if(!kc(c.precondition,d))return p;const _=c.value.clone(),A=Cv(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,s):r instanceof es?(function(c,d,p,y){if(!kc(c.precondition,d))return p;const _=Cv(c.fieldTransforms,y,d),A=d.data;return A.setAll(AT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,s):(function(c,d,p){return kc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function ww(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=yT(s.transform,l||null);c!=null&&(i===null&&(i=cn.empty()),i.set(s.field,c))}return i||null}function Rv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&$a(s,l,((c,d)=>Aw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Gl extends _h{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class es extends _h{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function AT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function Iv(r,t,i){const s=new Map;qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);s.set(c.field,Ew(d,p,i[l]))}return s}function Cv(r,t,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,vw(c,d,t))}return s}class ST extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rw extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Iw{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&bw(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Cl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Cl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=pT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=TT(d,p);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(yt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&$a(this.mutations,t.mutations,((i,s)=>Rv(i,s)))&&$a(this.baseMutations,t.baseMutations,((i,s)=>Rv(i,s)))}}class Pm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return mw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Pm(t,i,s,l)}}class Cw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Dw{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,xt;function Nw(r){switch(r){case Q.OK:return mt(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return mt(15467,{code:r})}}function bT(r){if(r===void 0)return Wi("GRPC error has no .code"),Q.UNKNOWN;switch(r){case we.OK:return Q.OK;case we.CANCELLED:return Q.CANCELLED;case we.UNKNOWN:return Q.UNKNOWN;case we.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case we.INTERNAL:return Q.INTERNAL;case we.UNAVAILABLE:return Q.UNAVAILABLE;case we.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case we.NOT_FOUND:return Q.NOT_FOUND;case we.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case we.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case we.ABORTED:return Q.ABORTED;case we.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case we.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case we.DATA_LOSS:return Q.DATA_LOSS;default:return mt(39323,{code:r})}}(xt=we||(we={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";function Ow(){return new TextEncoder}const Vw=new Gr([4294967295,4294967295],0);function Dv(r){const t=Ow().encode(r),i=new kE;return i.update(t),new Uint8Array(i.digest())}function Nv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Gr([i,s],0),new Gr([l,c],0)]}class km{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Al(`Invalid padding: ${i}`);if(s<0)throw new Al(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new Al(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Gr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Gr.fromNumber(s)));return l.compare(Vw)===1&&(l=new Gr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Dv(t),[s,l]=Nv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new km(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Dv(t),[s,l]=Nv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new vh(yt.min(),l,new oe(Nt),tr(),Ot())}}class Ql{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Ql(s,i,Ot(),Ot(),Ot())}}class zc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class wT{constructor(t,i){this.targetId=t,this.Ce=i}}class RT{constructor(t,i,s=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Ov{constructor(){this.ve=0,this.Fe=Vv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),s=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:mt(38017,{changeType:c})}})),new Ql(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=Vv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Mw{constructor(t){this.Ge=t,this.ze=new Map,this.je=tr(),this.Je=Vc(),this.He=Vc(),this.Ye=new oe(Nt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(am(c))if(s===0){const d=new ut(c.path);this.et(i,d,Ze.newNoDocument(d,yt.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Zr(s).toUint8Array()}catch(y){if(y instanceof ZE)return Ja("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new km(d,l,c)}catch(y){return Ja(y instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&am(p.target)){const y=new ut(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ze.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Ot();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new vh(t,i,this.Ye,this.je,s);return this.je=tr(),this.Je=Vc(),this.He=Vc(),this.Ye=new oe(Nt),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Ov,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Nt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Nt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Ov),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Vc(){return new oe(ut.comparator)}function Vv(){return new oe(ut.comparator)}const xw={asc:"ASCENDING",desc:"DESCENDING"},Uw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lw={and:"AND",or:"OR"};class Pw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function um(r,t){return r.useProto3Json||fh(t)?t:{value:t}}function $c(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function IT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function kw(r,t){return $c(r,t.toTimestamp())}function bi(r){return qt(!!r,49232),yt.fromTimestamp((function(i){const s=Xr(i);return new ne(s.seconds,s.nanos)})(r))}function zm(r,t){return cm(r,t).canonicalString()}function cm(r,t){const i=(function(l){return new $t(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function CT(r){const t=$t.fromString(r);return qt(MT(t),10190,{key:t.toString()}),t}function hm(r,t){return zm(r.databaseId,t.path)}function Fd(r,t){const i=CT(t);if(i.get(1)!==r.databaseId.projectId)throw new it(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new it(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ut(NT(i))}function DT(r,t){return zm(r.databaseId,t)}function zw(r){const t=CT(r);return t.length===4?$t.emptyPath():NT(t)}function fm(r){return new $t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function NT(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Mv(r,t,i){return{name:hm(r,t),fields:i.value.mapValue.fields}}function Bw(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:mt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?Q.UNKNOWN:bT(_.code);return new it(A,_.message||"")})(d);i=new RT(s,l,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Fd(r,s.document.name),c=bi(s.document.updateTime),d=s.document.createTime?bi(s.document.createTime):yt.min(),p=new cn({mapValue:{fields:s.document.fields}}),y=Ze.newFoundDocument(l,c,d,p),_=s.targetIds||[],A=s.removedTargetIds||[];i=new zc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Fd(r,s.document),c=s.readTime?bi(s.readTime):yt.min(),d=Ze.newNoDocument(l,c),p=s.removedTargetIds||[];i=new zc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Fd(r,s.document),c=s.removedTargetIds||[];i=new zc([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new Dw(l,c),p=s.targetId;i=new wT(p,d)}}return i}function qw(r,t){let i;if(t instanceof Gl)i={update:Mv(r,t.key,t.value)};else if(t instanceof ST)i={delete:hm(r,t.key)};else if(t instanceof es)i={update:Mv(r,t.key,t.data),updateMask:Zw(t.fieldMask)};else{if(!(t instanceof Rw))return mt(16599,{Vt:t.type});i={verify:hm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof Ll)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Pl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Jc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw mt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:kw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)})(r,t.precondition)),i}function jw(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?bi(l.updateTime):bi(c);return d.isEqual(yt.min())&&(d=bi(c)),new Sw(d,l.transformResults||[])})(i,t)))):[]}function Hw(r,t){return{documents:[DT(r,t.path)]}}function Fw(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=DT(r,l);const c=(function(_){if(_.length!==0)return VT($n.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(V){return{field:ja(V.field),direction:Kw(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=um(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function Gw(r){let t=zw(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){qt(s===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const V=OT(S);return V instanceof $n&&aT(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function(Z){return new Ul(Ha(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let V;return V=typeof S=="object"?S.value:S,fh(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(S){const V=!!S.before,F=S.values||[];return new Zc(F,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const V=!S.before,F=S.values||[];return new Zc(F,V)})(i.endAt)),uw(t,l,d,c,p,"F",y,_)}function Qw(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function OT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ha(i.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ha(i.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ha(i.unaryFilter.field);return Re.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Re.create(Ha(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return $n.create(i.compositeFilter.filters.map((s=>OT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(r):mt(30097,{filter:r})}function Kw(r){return xw[r]}function Yw(r){return Uw[r]}function Xw(r){return Lw[r]}function ja(r){return{fieldPath:r.canonicalString()}}function Ha(r){return Fe.fromServerFormat(r.fieldPath)}function VT(r){return r instanceof Re?(function(i){if(i.op==="=="){if(Ev(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NAN"}};if(vv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ev(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NAN"}};if(vv(i.value))return{unaryFilter:{field:ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(i.field),op:Yw(i.op),value:i.value}}})(r):r instanceof $n?(function(i){const s=i.getFilters().map((l=>VT(l)));return s.length===1?s[0]:{compositeFilter:{op:Xw(i.op),filters:s}}})(r):mt(54877,{filter:r})}function Zw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function MT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class qr{constructor(t,i,s,l,c=yt.min(),d=yt.min(),p=Qe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Jw{constructor(t){this.yt=t}}function $w(r){const t=Gw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lm(t,t.limit,"L"):t}class Ww{constructor(){this.Cn=new tR}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Yr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Yr.min())}updateCollectionGroup(t,i,s){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class tR{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Ve($t.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ve($t.comparator)).toArray()}}const xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xT=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(xT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class eo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new eo(0)}static cr(){return new eo(-1)}}const Uv="LruGarbageCollector",eR=1048576;function Lv([r,t],[i,s]){const l=Nt(r,i);return l===0?Nt(t,s):l}class nR{constructor(t){this.Ir=t,this.buffer=new Ve(Lv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Lv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class iR{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(Uv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){oo(i)?rt(Uv,"Ignoring IndexedDB error during garbage collection: ",i):await ao(i)}await this.Vr(3e5)}))}}class rR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(hh.ce);const s=new nR(i);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(xv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(_=Date.now(),Ba()<=Dt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function sR(r,t){return new rR(r,t)}class aR{constructor(){this.changes=new Qs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class oR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class lR{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&Cl(s.mutation,l,En.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Ot()){const l=Ls();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=Tl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Ls();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Ot())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,s,l){let c=tr();const d=Il(),p=(function(){return Il()})();return i.forEach(((y,_)=>{const A=s.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof es)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Cl(A.mutation,_,A.mutation.getFieldMask(),ne.now())):d.set(_.key,En.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new oR(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=Il();let l=new oe(((d,p)=>d-p)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=s.get(y)||En.empty();A=p.applyToLocalView(_,A),s.set(y,A);const S=(l.get(p.batchId)||Ot()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,S=pT();A.forEach((V=>{if(!c.has(V)){const F=TT(i.get(V),s.get(V));F!==null&&S.set(V,F),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return X.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):cT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):X.resolve(Ls());let p=Ol,y=c;return d.next((_=>X.forEach(_,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{y=y.insert(A,V)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Ot()))).next((A=>({batchId:p,changes:mT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ut(i)).next((s=>{let l=Tl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=Tl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(y=>{const _=(function(S,V){return new lo(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next((A=>{A.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let p=Tl();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&Cl(A.mutation,_,En.empty(),ne.now()),gh(i,_)&&(p=p.insert(y,_))})),p}))}}class uR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:bi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:$w(l.bundledQuery),readTime:bi(l.readTime)}})(i)),X.resolve()}}class cR{constructor(){this.overlays=new oe(ut.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Ls();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(t,i,s){const l=Ls(),c=i.length+1,d=new ut(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new oe(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=c.get(_.largestBatchId);A===null&&(A=Ls(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Ls(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return X.resolve(p)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Cw(i,s));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class hR{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Bm{constructor(){this.Qr=new Ve(Le.$r),this.Ur=new Ve(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Le(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new ut(new $t([])),s=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ut(new $t([])),s=new Le(i,t),l=new Le(i,t+1);let c=Ot();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ut.comparator(t.key,i.key)||Nt(t.Yr,i.Yr)}static Kr(t,i){return Nt(t.Yr,i.Yr)||ut.comparator(t.key,i.key)}}class fR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Le.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Iw(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Om:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Ve(Nt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{s=s.add(p.Yr)}))})),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;ut.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ut(c),0);let p=new Ve(Nt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new Le(i,0),l=this.Zr.firstAfterOrEqual(s);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class dR{constructor(t){this.ri=t,this.docs=(function(){return new oe(ut.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let s=tr();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),X.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=tr();const d=i.path,p=new ut(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||q1(B1(A),s)<=0||(l.has(A.key)||gh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,s,l){mt(9500)}ii(t,i){return X.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new mR(this)}getSize(t){return X.resolve(this.size)}}class mR extends aR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class pR{constructor(t){this.persistence=t,this.si=new Qs((i=>xm(i)),Um),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new Bm,this.targetCount=0,this.ai=eo.ur()}forEachTarget(t,i){return this.si.forEach(((s,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new eo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return X.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),X.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return X.resolve(s)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class UT{constructor(t,i){this.ui={},this.overlays={},this.ci=new hh(0),this.li=!1,this.li=!0,this.hi=new hR,this.referenceDelegate=t(this),this.Pi=new pR(this),this.indexManager=new Ww,this.remoteDocumentCache=(function(l){return new dR(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Jw(i),this.Ii=new uR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new cR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new fR(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){rt("MemoryPersistence","Starting transaction:",t);const l=new gR(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class gR extends H1{constructor(t){super(),this.currentSequenceNumber=t}}class qm{constructor(t){this.persistence=t,this.Ri=new Bm,this.Vi=null}static mi(t){return new qm(t)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),X.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(s=>{const l=ut.fromPath(s);return this.gi(t,l).next((c=>{c||i.removeEntry(l,yt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Wc{constructor(t,i){this.persistence=t,this.pi=new Qs((s=>Q1(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=sR(this,i)}static mi(t,i){return new Wc(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(s++,c.removeEntry(d,yt.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),X.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Lc(t.data.value)),i}br(t,i,s){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class jm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new jm(t,i.fromCache,s,l)}}class yR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class _R{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return cb()?8:F1(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new yR;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,s,l){return s.documentReadCount<this.fs?(Ba()<=Dt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ba()<=Dt.DEBUG&&rt("QueryEngine","Query:",qa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Ba()<=Dt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(i))):X.resolve())}ys(t,i){if(bv(i))return X.resolve(null);let s=Si(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=lm(i,null,"F"),s=Si(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Ot(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,lm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,s,l){return bv(i)||l.isEqual(yt.min())?X.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,l)?X.resolve(null):(Ba()<=Dt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qa(i)),this.vs(t,d,i,z1(l,Ol)).next((p=>p)))}))}Ds(t,i){let s=new Ve(fT(t));return i.forEach(((l,c)=>{gh(t,c)&&(s=s.add(c))})),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,s){return Ba()<=Dt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",qa(i)),this.ps.getDocumentsMatchingQuery(t,i,Yr.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Hm="LocalStore",vR=3e8;class ER{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(Nt),this.xs=new Qs((c=>xm(c)),Um),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function TR(r,t,i,s){return new ER(r,t,i,s)}async function LT(r,t){const i=vt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let y=Ot();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(s,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function AR(r,t){const i=vt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const S=_.batch,V=S.keys();let F=X.resolve();return V.forEach((Z=>{F=F.next((()=>A.getEntry(y,Z))).next((et=>{const J=_.docVersions.get(Z);qt(J!==null,48541),et.version.compareTo(J)<0&&(S.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let y=Ot();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function PT(r){const t=vt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function SR(r,t){const i=vt(r),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const V=l.get(S);if(!V)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let F=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(Qe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,s)),l=l.insert(S,F),(function(et,J,ft){return et.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=vR?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(V,F,A)&&p.push(i.Pi.updateTargetData(c,F))}));let y=tr(),_=Ot();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(bR(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!s.isEqual(yt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function bR(r,t,i){let s=Ot(),l=Ot();return i.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=tr();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(yt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):rt(Hm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function wR(r,t){const i=vt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Om),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function RR(r,t){const i=vt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new qr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function dm(r,t,i){const s=vt(r),l=s.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!oo(d))throw d;rt(Hm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function Pv(r,t,i){const s=vt(r);let l=yt.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const S=vt(y),V=S.xs.get(A);return V!==void 0?X.resolve(S.Ms.get(V)):S.Pi.getTargetData(_,A)})(s,d,Si(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?c:Ot()))).next((p=>(IR(s,hw(t),p),{documents:p,Qs:c})))))}function IR(r,t,i){let s=r.Os.get(t)||yt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(t,s)}class kv{constructor(){this.activeTargetIds=yw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class CR{constructor(){this.Mo=new kv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new kv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class DR{Oo(t){}shutdown(){}}const zv="ConnectivityMonitor";class Bv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(zv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(zv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function mm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const Gd="RestConnection",NR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Yc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,c){const d=mm(),p=this.zo(t,i.toUriEncodedString());rt(Gd,`Sending RPC '${t}' ${d}:`,p,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),A=io(_);return this.Jo(t,p,y,s,A).then((S=>(rt(Gd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ja(Gd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(t,i,s,l,c,d){return this.Go(t,i,s,l,c)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const s=NR[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class VR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ye="WebChannelConnection";class MR extends OR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,c){const d=mm();return new Promise(((p,y)=>{const _=new zE;_.setWithCredentials(!0),_.listenOnce(BE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Uc.NO_ERROR:const S=_.getResponseJson();rt(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Uc.TIMEOUT:rt(Ye,`RPC '${t}' ${d} timed out`),y(new it(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const V=_.getStatus();if(rt(Ye,`RPC '${t}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F?.error;if(Z&&Z.status&&Z.message){const et=(function(ft){const Et=ft.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(Et)>=0?Et:Q.UNKNOWN})(Z.status);y(new it(et,Z.message))}else y(new it(Q.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new it(Q.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(Ye,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);rt(Ye,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,s,15)}))}T_(t,i,s){const l=mm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=HE(),p=jE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const A=c.join("");rt(Ye,`Creating RPC '${t}' stream ${l}: ${A}`,y);const S=d.createWebChannel(A,y);this.I_(S);let V=!1,F=!1;const Z=new VR({Yo:J=>{F?rt(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(V||(rt(Ye,`Opening RPC '${t}' stream ${l} transport.`),S.open(),V=!0),rt(Ye,`RPC '${t}' stream ${l} sending:`,J),S.send(J))},Zo:()=>S.close()}),et=(J,ft,Et)=>{J.listen(ft,(pt=>{try{Et(pt)}catch(Qt){setTimeout((()=>{throw Qt}),0)}}))};return et(S,El.EventType.OPEN,(()=>{F||(rt(Ye,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),et(S,El.EventType.CLOSE,(()=>{F||(F=!0,rt(Ye,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(S))})),et(S,El.EventType.ERROR,(J=>{F||(F=!0,Ja(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new it(Q.UNAVAILABLE,"The operation could not be completed")))})),et(S,El.EventType.MESSAGE,(J=>{if(!F){const ft=J.data[0];qt(!!ft,16349);const Et=ft,pt=Et?.error||Et[0]?.error;if(pt){rt(Ye,`RPC '${t}' stream ${l} received error:`,pt);const Qt=pt.status;let Wt=(function(b){const I=we[b];if(I!==void 0)return bT(I)})(Qt),Ut=pt.message;Wt===void 0&&(Wt=Q.INTERNAL,Ut="Unknown error status: "+Qt+" with message "+pt.message),F=!0,Z.a_(new it(Wt,Ut)),S.close()}else rt(Ye,`RPC '${t}' stream ${l} received:`,ft),Z.u_(ft)}})),et(p,qE.STAT_EVENT,(J=>{J.stat===em.PROXY?rt(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===em.NOPROXY&&rt(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Qd(){return typeof document<"u"?document:null}function Eh(r){return new Pw(r,!0)}class kT{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const qv="PersistentStream";class zT{constructor(t,i,s,l,c,d,p,y){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Q.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new it(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(qv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xR extends zT{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Bw(this.serializer,t),s=(function(c){if(!("targetChange"in c))return yt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?bi(d.readTime):yt.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=fm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=am(y)?{documents:Hw(c,y)}:{query:Fw(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=IT(c,d.resumeToken);const _=um(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=$c(c,d.snapshotVersion.toTimestamp());const _=um(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const s=Qw(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=fm(this.serializer),i.removeTarget=t,this.q_(i)}}class UR extends zT{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=jw(t.writeResults,t.commitTime),s=bi(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=fm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>qw(this.serializer,s)))};this.q_(i)}}class LR{}class PR extends LR{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,cm(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new it(Q.UNKNOWN,c.toString())}))}Ho(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,cm(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(Q.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const js="RemoteStore";class zR{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Ks(this)&&(rt(js,"Restarting streams for network reachability change."),await(async function(y){const _=vt(y);_.Ea.add(4),await Kl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Th(_)})(this))}))})),this.Ra=new kR(s,l)}}async function Th(r){if(Ks(r))for(const t of r.da)await t(!0)}async function Kl(r){for(const t of r.da)await t(!1)}function BT(r,t){const i=vt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Km(i)?Qm(i):uo(i).O_()&&Gm(i,t))}function Fm(r,t){const i=vt(r),s=uo(i);i.Ia.delete(t),s.O_()&&qT(i,t),i.Ia.size===0&&(s.O_()?s.L_():Ks(i)&&i.Ra.set("Unknown"))}function Gm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}uo(r).Y_(t)}function qT(r,t){r.Va.Ue(t),uo(r).Z_(t)}function Qm(r){r.Va=new Mw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),uo(r).start(),r.Ra.ua()}function Km(r){return Ks(r)&&!uo(r).x_()&&r.Ia.size>0}function Ks(r){return vt(r).Ea.size===0}function jT(r){r.Va=void 0}async function BR(r){r.Ra.set("Online")}async function qR(r){r.Ia.forEach(((t,i)=>{Gm(r,t)}))}async function jR(r,t){jT(r),Km(r)?(r.Ra.ha(t),Qm(r)):r.Ra.set("Unknown")}async function HR(r,t,i){if(r.Ra.set("Online"),t instanceof RT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(s){rt(js,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await th(r,s)}else if(t instanceof zc?r.Va.Ze(t):t instanceof wT?r.Va.st(t):r.Va.tt(t),!i.isEqual(yt.min()))try{const s=await PT(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),qT(c,y);const S=new qr(A.target,y,_,A.sequenceNumber);Gm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){rt(js,"Failed to raise snapshot:",s),await th(r,s)}}async function th(r,t,i){if(!oo(t))throw t;r.Ea.add(1),await Kl(r),r.Ra.set("Offline"),i||(i=()=>PT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(js,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Th(r)}))}function HT(r,t){return t().catch((i=>th(r,i,t)))}async function Ah(r){const t=vt(r),i=$r(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Om;for(;FR(t);)try{const l=await wR(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,GR(t,l)}catch(l){await th(t,l)}FT(t)&&GT(t)}function FR(r){return Ks(r)&&r.Ta.length<10}function GR(r,t){r.Ta.push(t);const i=$r(r);i.O_()&&i.X_&&i.ea(t.mutations)}function FT(r){return Ks(r)&&!$r(r).x_()&&r.Ta.length>0}function GT(r){$r(r).start()}async function QR(r){$r(r).ra()}async function KR(r){const t=$r(r);for(const i of r.Ta)t.ea(i.mutations)}async function YR(r,t,i){const s=r.Ta.shift(),l=Pm.from(s,t,i);await HT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ah(r)}async function XR(r,t){t&&$r(r).X_&&await(async function(s,l){if((function(d){return Nw(d)&&d!==Q.ABORTED})(l.code)){const c=s.Ta.shift();$r(s).B_(),await HT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ah(s)}})(r,t),FT(r)&&GT(r)}async function jv(r,t){const i=vt(r);i.asyncQueue.verifyOperationInProgress(),rt(js,"RemoteStore received new credentials");const s=Ks(i);i.Ea.add(3),await Kl(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Th(i)}async function ZR(r,t){const i=vt(r);t?(i.Ea.delete(2),await Th(i)):t||(i.Ea.add(2),await Kl(i),i.Ra.set("Unknown"))}function uo(r){return r.ma||(r.ma=(function(i,s,l){const c=vt(i);return c.sa(),new xR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:BR.bind(null,r),t_:qR.bind(null,r),r_:jR.bind(null,r),H_:HR.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Km(r)?Qm(r):r.Ra.set("Unknown")):(await r.ma.stop(),jT(r))}))),r.ma}function $r(r){return r.fa||(r.fa=(function(i,s,l){const c=vt(i);return c.sa(),new UR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:QR.bind(null,r),r_:XR.bind(null,r),ta:KR.bind(null,r),na:YR.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Ah(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(js,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Ym{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,p=new Ym(t,i,d,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(r,t){if(Wi("AsyncQueue",`${t}: ${r}`),oo(r))return new it(Q.UNAVAILABLE,`${t}: ${r}`);throw r}class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ut.comparator(i.key,s.key):(i,s)=>ut.comparator(i.key,s.key),this.keyedMap=Tl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Ga;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class Hv{constructor(){this.ga=new oe(ut.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class no{constructor(t,i,s,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new no(t,i,Ga.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class JR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class $R{constructor(){this.queries=Fv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=vt(i),c=l.queries;l.queries=Fv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(s)}))})(this,new it(Q.ABORTED,"Firestore shutting down"))}}function Fv(){return new Qs((r=>hT(r)),ph)}async function QT(r,t){const i=vt(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new JR,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Xm(d,`Initialization of query '${qa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Zm(i)}async function KT(r,t){const i=vt(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function WR(r,t){const i=vt(r);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(s=!0);d.wa=l}}s&&Zm(i)}function tI(r,t,i){const s=vt(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(t)}function Zm(r){r.Ca.forEach((t=>{t.next()}))}var pm,Gv;(Gv=pm||(pm={})).Ma="default",Gv.Cache="cache";class YT{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new no(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=no.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==pm.Cache}}class XT{constructor(t){this.key=t}}class ZT{constructor(t){this.key=t}}class eI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=fT(t),this.tu=new Ga(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new Hv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const V=l.get(A),F=gh(this.query,S)?S:null,Z=!!V&&this.mutatedKeys.has(V.key),et=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;V&&F?V.data.isEqual(F.data)?Z!==et&&(s.track({type:3,doc:F}),J=!0):this.su(V,F)||(s.track({type:2,doc:F}),J=!0,(y&&this.eu(F,y)>0||_&&this.eu(F,_)<0)&&(p=!0)):!V&&F?(s.track({type:0,doc:F}),J=!0):V&&!F&&(s.track({type:1,doc:V}),J=!0,(y||_)&&(p=!0)),J&&(F?(d=d.add(F),c=et?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(F,Z){const et=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:J})}};return et(F)-et(Z)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new no(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new ZT(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new XT(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return no.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jm="SyncEngine";class nI{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class iI{constructor(t){this.key=t,this.hu=!1}}class rI{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Qs((p=>hT(p)),ph),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ut.comparator),this.Au=new Map,this.Ru=new Bm,this.Vu={},this.mu=new Map,this.fu=eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sI(r,t,i=!0){const s=n0(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await JT(s,t,i,!0),l}async function aI(r,t){const i=n0(r);await JT(i,t,!0,!1)}async function JT(r,t,i,s){const l=await RR(r.localStore,Si(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await oI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&BT(r.remoteStore,l),p}async function oI(r,t,i,s,l){r.pu=(S,V,F)=>(async function(et,J,ft,Et){let pt=J.view.ru(ft);pt.Cs&&(pt=await Pv(et.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,pt))));const Qt=Et&&Et.targetChanges.get(J.targetId),Wt=Et&&Et.targetMismatches.get(J.targetId)!=null,Ut=J.view.applyChanges(pt,et.isPrimaryClient,Qt,Wt);return Kv(et,J.targetId,Ut.au),Ut.snapshot})(r,S,V,F);const c=await Pv(r.localStore,t,!0),d=new eI(t,c.Qs),p=d.ru(c.documents),y=Ql.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);Kv(r,i,_.au);const A=new nI(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function lI(r,t,i){const s=vt(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!ph(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await dm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Fm(s.remoteStore,l.targetId),gm(s,l.targetId)})).catch(ao)):(gm(s,l.targetId),await dm(s.localStore,l.targetId,!0))}async function uI(r,t){const i=vt(r),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Fm(i.remoteStore,s.targetId))}async function cI(r,t,i){const s=yI(r);try{const l=await(function(d,p){const y=vt(d),_=ne.now(),A=p.reduce(((F,Z)=>F.add(Z.key)),Ot());let S,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let Z=tr(),et=Ot();return y.Ns.getEntries(F,A).next((J=>{Z=J,Z.forEach(((ft,Et)=>{Et.isValidDocument()||(et=et.add(ft))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,Z))).next((J=>{S=J;const ft=[];for(const Et of p){const pt=ww(Et,S.get(Et.key).overlayedDocument);pt!=null&&ft.push(new es(Et.key,pt,iT(pt.value.mapValue),Jn.exists(!0)))}return y.mutationQueue.addMutationBatch(F,_,ft,p)})).next((J=>{V=J;const ft=J.applyToLocalDocumentSet(S,et);return y.documentOverlayCache.saveOverlays(F,J.batchId,ft)}))})).then((()=>({batchId:V.batchId,changes:mT(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new oe(Nt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(s,l.batchId,i),await Yl(s,l.changes),await Ah(s.remoteStore)}catch(l){const c=Xm(l,"Failed to persist write");i.reject(c)}}async function $T(r,t){const i=vt(r);try{const s=await SR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await Yl(i,s,t)}catch(s){await ao(s)}}function Qv(r,t,i){const s=vt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=vt(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,S)=>{for(const V of S.Sa)V.va(p)&&(_=!0)})),_&&Zm(y)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function hI(r,t,i){const s=vt(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new oe(ut.comparator);d=d.insert(c,Ze.newNoDocument(c,yt.min()));const p=Ot().add(c),y=new vh(yt.min(),new Map,new oe(Nt),d,p);await $T(s,y),s.du=s.du.remove(c),s.Au.delete(t),$m(s)}else await dm(s.localStore,t,!1).then((()=>gm(s,t,i))).catch(ao)}async function fI(r,t){const i=vt(r),s=t.batch.batchId;try{const l=await AR(i.localStore,t);t0(i,s,null),WT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Yl(i,l)}catch(l){await ao(l)}}async function dI(r,t,i){const s=vt(r);try{const l=await(function(d,p){const y=vt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((S=>(qt(S!==null,37113),A=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(s.localStore,t);t0(s,t,i),WT(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Yl(s,l)}catch(l){await ao(l)}}function WT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function t0(r,t,i){const s=vt(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function gm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||e0(r,s)}))}function e0(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Fm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),$m(r))}function Kv(r,t,i){for(const s of i)s instanceof XT?(r.Ru.addReference(s.key,t),mI(r,s)):s instanceof ZT?(rt(Jm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||e0(r,s.key)):mt(19791,{wu:s})}function mI(r,t){const i=t.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(rt(Jm,"New document in limbo: "+i),r.Eu.add(s),$m(r))}function $m(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ut($t.fromString(t)),s=r.fu.next();r.Au.set(s,new iI(i)),r.du=r.du.insert(i,s),BT(r.remoteStore,new qr(Si(mh(i.path)),s,"TargetPurposeLimboResolution",hh.ce))}}async function Yl(r,t,i){const s=vt(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,y)=>{d.push(s.pu(y,t,i).then((_=>{if((_||i)&&s.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=jm.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(y,_){const A=vt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(_,(V=>X.forEach(V.Es,(F=>A.persistence.referenceDelegate.addReference(S,V.targetId,F))).next((()=>X.forEach(V.ds,(F=>A.persistence.referenceDelegate.removeReference(S,V.targetId,F)))))))))}catch(S){if(!oo(S))throw S;rt(Hm,"Failed to update sequence numbers: "+S)}for(const S of _){const V=S.targetId;if(!S.fromCache){const F=A.Ms.get(V),Z=F.snapshotVersion,et=F.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(V,et)}}})(s.localStore,c))}async function pI(r,t){const i=vt(r);if(!i.currentUser.isEqual(t)){rt(Jm,"User change. New user:",t.toKey());const s=await LT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new it(Q.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Yl(i,s.Ls)}}function gI(r,t){const i=vt(r),s=i.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function n0(r){const t=vt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=$T.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hI.bind(null,t),t.Pu.H_=WR.bind(null,t.eventManager),t.Pu.yu=tI.bind(null,t.eventManager),t}function yI(r){const t=vt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dI.bind(null,t),t}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return TR(this.persistence,new _R,t.initialUser,this.serializer)}Cu(t){return new UT(qm.mi,this.serializer)}Du(t){return new CR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class _I extends eh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof Wc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new iR(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new UT((s=>Wc.mi(s,i)),this.serializer)}}class ym{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Qv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pI.bind(null,this.syncEngine),await ZR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new $R})()}createDatastore(t){const i=Eh(t.databaseInfo.databaseId),s=(function(c){return new MR(c)})(t.databaseInfo);return(function(c,d,p,y){return new PR(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,p){return new zR(s,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Qv(this.syncEngine,i,0)),(function(){return Bv.v()?new Bv:new DR})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,A){const S=new rI(l,c,d,p,y,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=vt(i);rt(js,"RemoteStore shutting down."),s.Ea.add(5),await Kl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};class i0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Wr="FirestoreClient";class vI{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{rt(Wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(rt(Wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Xm(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Kd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(Wr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await LT(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Yv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await EI(r);rt(Wr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>jv(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>jv(t.remoteStore,l))),r._onlineComponents=t}async function EI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(Wr,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ja("Error using user provided cache. Falling back to memory cache: "+i),await Kd(r,new eh)}}else rt(Wr,"Using default OfflineComponentProvider"),await Kd(r,new _I(void 0));return r._offlineComponents}async function r0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(Wr,"Using user provided OnlineComponentProvider"),await Yv(r,r._uninitializedComponentsProvider._online)):(rt(Wr,"Using default OnlineComponentProvider"),await Yv(r,new ym))),r._onlineComponents}function TI(r){return r0(r).then((t=>t.syncEngine))}async function _m(r){const t=await r0(r),i=t.eventManager;return i.onListen=sI.bind(null,t.syncEngine),i.onUnlisten=lI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=aI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=uI.bind(null,t.syncEngine),i}function AI(r,t,i={}){const s=new Qr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const A=new i0({next:V=>{A.Nu(),d.enqueueAndForget((()=>KT(c,S)));const F=V.docs.has(p);!F&&V.fromCache?_.reject(new it(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&V.fromCache&&y&&y.source==="server"?_.reject(new it(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(V)},error:V=>_.reject(V)}),S=new YT(mh(p.path),A,{includeMetadataChanges:!0,qa:!0});return QT(c,S)})(await _m(r),r.asyncQueue,t,i,s))),s.promise}function s0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Xv=new Map;const a0="firestore.googleapis.com",Zv=!0;class Jv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a0,this.ssl=Zv}else this.host=t.host,this.ssl=t.ssl??Zv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=xT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<eR)throw new it(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}k1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new C1;switch(s.type){case"firstParty":return new V1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Xv.get(i);s&&(rt("ComponentProvider","Removing Datastore"),Xv.delete(i),s.terminate())})(this),Promise.resolve()}}function SI(r,t,i,s={}){r=Zn(r,Sh);const l=io(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(NE(`https://${p}`),OE("Firestore",!0)),c.host!==a0&&c.host!==p&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:s};if(!zs(y,d)&&(r._setSettings(y),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=Xe.MOCK_USER;else{_=eb(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new it(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(S)}r._authCredentials=new D1(new GE(_,A))}}class Ys{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ys(this.firestore,t,this._query)}}class ce{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ce(this.firestore,t,this._key)}toJSON(){return{type:ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(Fl(i,ce._jsonSchema))return new ce(t,s||null,new ut($t.fromString(i.referencePath)))}}ce._jsonSchemaVersion="firestore/documentReference/1.0",ce._jsonSchema={type:Ie("string",ce._jsonSchemaVersion),referencePath:Ie("string")};class Kr extends Ys{constructor(t,i,s){super(t,i,mh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ce(this.firestore,null,new ut(t))}withConverter(t){return new Kr(this.firestore,t,this._path)}}function Wm(r,t,...i){if(r=Ge(r),QE("collection","path",t),r instanceof Sh){const s=$t.fromString(t,...i);return cv(s),new Kr(r,null,s)}{if(!(r instanceof ce||r instanceof Kr))throw new it(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child($t.fromString(t,...i));return cv(s),new Kr(r.firestore,null,s)}}function zl(r,t,...i){if(r=Ge(r),arguments.length===1&&(t=Nm.newId()),QE("doc","path",t),r instanceof Sh){const s=$t.fromString(t,...i);return uv(s),new ce(r,null,new ut(s))}{if(!(r instanceof ce||r instanceof Kr))throw new it(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child($t.fromString(t,...i));return uv(s),new ce(r.firestore,r instanceof Kr?r.converter:null,new ut(s))}}const $v="AsyncQueue";class Wv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kT(this,"async_queue_retry"),this._c=()=>{const s=Qd();s&&rt($v,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!oo(t))throw t;rt($v,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",tE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Ym.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:tE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function tE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function eE(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Hs extends Sh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new Wv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Wv(t),this._firestoreClient=void 0,await t}}}function bI(r,t){const i=typeof r=="object"?r:UE(),s=typeof r=="string"?r:Yc,l=Cm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=WS("firestore");c&&SI(l,...c)}return l}function tp(r){if(r._terminated)throw new it(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wI(r),r._firestoreClient}function wI(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new X1(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,s0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new vI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Qe.fromBase64String(t))}catch(i){throw new it(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ie("string",Un._jsonSchemaVersion),bytes:Ie("string")};class bh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new it(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class wh{constructor(t){this._methodName=t}}class wi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new it(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new it(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,wi._jsonSchema))return new wi(t.latitude,t.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Ie("string",wi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Ri{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,Ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ri(t.vectorValues);throw new it(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:Ie("string",Ri._jsonSchemaVersion),vectorValues:Ie("object")};const RI=/^__.*__$/;class II{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new es(t,this.data,this.fieldMask,i,this.fieldTransforms):new Gl(t,this.data,i,this.fieldTransforms)}}class o0{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new es(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function l0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:r})}}class ep{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ep({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return nh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(l0(this.Ac)&&RI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class CI{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Eh(t)}Cc(t,i,s,l=!1){return new ep({Ac:t,methodName:i,Dc:s,path:Fe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rh(r){const t=r._freezeSettings(),i=Eh(r._databaseId);return new CI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function u0(r,t,i,s,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);ip("Data must be an object, but it was:",d,s);const p=c0(s,d);let y,_;if(c.merge)y=new En(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const V=vm(t,S,i);if(!d.contains(V))throw new it(Q.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);f0(A,V)||A.push(V)}y=new En(A),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new II(new cn(p),y,_)}class Ih extends wh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ih}}class np extends wh{_toFieldTransform(t){return new Tw(t.path,new Ll)}isEqual(t){return t instanceof np}}function DI(r,t,i,s){const l=r.Cc(1,t,i);ip("Data must be an object, but it was:",l,s);const c=[],d=cn.empty();ts(s,((y,_)=>{const A=rp(t,y,i);_=Ge(_);const S=l.yc(A);if(_ instanceof Ih)c.push(A);else{const V=Xl(_,S);V!=null&&(c.push(A),d.set(A,V))}}));const p=new En(c);return new o0(d,p,l.fieldTransforms)}function NI(r,t,i,s,l,c){const d=r.Cc(1,t,i),p=[vm(t,s,i)],y=[l];if(c.length%2!=0)throw new it(Q.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(vm(t,c[V])),y.push(c[V+1]);const _=[],A=cn.empty();for(let V=p.length-1;V>=0;--V)if(!f0(_,p[V])){const F=p[V];let Z=y[V];Z=Ge(Z);const et=d.yc(F);if(Z instanceof Ih)_.push(F);else{const J=Xl(Z,et);J!=null&&(_.push(F),A.set(F,J))}}const S=new En(_);return new o0(A,S,d.fieldTransforms)}function OI(r,t,i,s=!1){return Xl(i,r.Cc(s?4:3,t))}function Xl(r,t){if(h0(r=Ge(r)))return ip("Unsupported field value:",t,r),c0(r,t);if(r instanceof wh)return(function(s,l){if(!l0(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let y=Xl(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=Ge(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _w(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ne.fromDate(s);return{timestampValue:$c(l.serializer,c)}}if(s instanceof ne){const c=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$c(l.serializer,c)}}if(s instanceof wi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:IT(l.serializer,s._byteString)};if(s instanceof ce){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:zm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Ri)return(function(d,p){return{mapValue:{fields:{[eT]:{stringValue:nT},[Xc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Lm(p.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${ch(s)}`)})(r,t)}function c0(r,t){const i={};return XE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ts(r,((s,l)=>{const c=Xl(l,t.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function h0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof wi||r instanceof Un||r instanceof ce||r instanceof wh||r instanceof Ri)}function ip(r,t,i){if(!h0(i)||!KE(i)){const s=ch(i);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function vm(r,t,i){if((t=Ge(t))instanceof bh)return t._internalPath;if(typeof t=="string")return rp(r,t);throw nh("Field path arguments must be of type string or ",r,!1,void 0,i)}const VI=new RegExp("[~\\*/\\[\\]]");function rp(r,t,i){if(t.search(VI)>=0)throw nh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new bh(...t.split("."))._internalPath}catch{throw nh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function nh(r,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new it(Q.INVALID_ARGUMENT,p+r+y)}function f0(r,t){return r.some((i=>i.isEqual(t)))}class d0{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Ch("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class MI extends d0{data(){return super.data()}}function Ch(r,t){return typeof t=="string"?rp(r,t):t instanceof bh?t._internalPath:t._delegate._internalPath}function xI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sp{}class m0 extends sp{}function p0(r,t,...i){let s=[];t instanceof sp&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((y=>y instanceof ap)).length,p=c.filter((y=>y instanceof Dh)).length;if(d>1||d>0&&p>0)throw new it(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Dh extends m0{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Dh(t,i,s)}_apply(t){const i=this._parse(t);return _0(t._query,i),new Ys(t.firestore,t.converter,om(t._query,i))}_parse(t){const i=Rh(t.firestore);return(function(c,d,p,y,_,A,S){let V;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new it(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){iE(S,A);const Z=[];for(const et of S)Z.push(nE(y,c,et));V={arrayValue:{values:Z}}}else V=nE(y,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||iE(S,A),V=OI(p,d,S,A==="in"||A==="not-in");return Re.create(_,A,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function g0(r,t,i){const s=t,l=Ch("where",r);return Dh._create(l,s,i)}class ap extends sp{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new ap(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:$n.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)_0(d,y),d=om(d,y)})(t._query,i),new Ys(t.firestore,t.converter,om(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class op extends m0{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new op(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new it(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new it(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ul(c,d)})(t._query,this._field,this._direction);return new Ys(t.firestore,t.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new lo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function y0(r,t="asc"){const i=t,s=Ch("orderBy",r);return op._create(s,i)}function nE(r,t,i){if(typeof(i=Ge(i))=="string"){if(i==="")throw new it(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cT(t)&&i.indexOf("/")!==-1)throw new it(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child($t.fromString(i));if(!ut.isDocumentKey(s))throw new it(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _v(r,new ut(s))}if(i instanceof ce)return _v(r,i._key);throw new it(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ch(i)}.`)}function iE(r,t){if(!Array.isArray(r)||r.length===0)throw new it(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function _0(r,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new it(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class UI{convertValue(t,i="none"){switch(Jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return ts(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[Xc].arrayValue?.values?.map((s=>pe(s.doubleValue)));return new Ri(i)}convertGeoPoint(t){return new wi(pe(t.latitude),pe(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=dh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const i=Xr(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=$t.fromString(t);qt(MT(s),9688,{name:t});const l=new Ml(s.get(1),s.get(3)),c=new ut(s.popFirst(5));return l.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function v0(r,t,i){let s;return s=r?r.toFirestore(t):t,s}class Sl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ps extends d0{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Ch("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ps._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ps._jsonSchema={type:Ie("string",Ps._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Bc extends Ps{data(t={}){return super.data(t)}}class Qa{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Sl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Bc(this._firestore,this._userDataWriter,s.key,s,new Sl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Sl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Bc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Sl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:LI(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function LI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:r})}}function PI(r){r=Zn(r,ce);const t=Zn(r.firestore,Hs);return AI(tp(t),r._key).then((i=>A0(t,r,i)))}Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:Ie("string",Qa._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class E0 extends UI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ce(this.firestore,null,i)}}function kI(r,t,i){r=Zn(r,ce);const s=Zn(r.firestore,Hs),l=v0(r.converter,t);return lp(s,[u0(Rh(s),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Jn.none())])}function rE(r,t,i,...s){r=Zn(r,ce);const l=Zn(r.firestore,Hs),c=Rh(l);let d;return d=typeof(t=Ge(t))=="string"||t instanceof bh?NI(c,"updateDoc",r._key,t,i,s):DI(c,"updateDoc",r._key,t),lp(l,[d.toMutation(r._key,Jn.exists(!0))])}function zI(r,t){const i=Zn(r.firestore,Hs),s=zl(r),l=v0(r.converter,t);return lp(i,[u0(Rh(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Jn.exists(!1))]).then((()=>s))}function T0(r,...t){r=Ge(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||eE(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(eE(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof ce)d=Zn(r.firestore,Hs),p=mh(r._key.path),c={next:y=>{t[s]&&t[s](A0(d,r,y))},error:t[s+1],complete:t[s+2]};else{const y=Zn(r,Ys);d=Zn(y.firestore,Hs),p=y._query;const _=new E0(d);c={next:A=>{t[s]&&t[s](new Qa(d,_,y,A))},error:t[s+1],complete:t[s+2]},xI(r._query)}return(function(_,A,S,V){const F=new i0(V),Z=new YT(A,F,S);return _.asyncQueue.enqueueAndForget((async()=>QT(await _m(_),Z))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>KT(await _m(_),Z)))}})(tp(d),p,l,c)}function lp(r,t){return(function(s,l){const c=new Qr;return s.asyncQueue.enqueueAndForget((async()=>cI(await TI(s),l,c))),c.promise})(tp(r),t)}function A0(r,t,i){const s=i.docs.get(t._key),l=new E0(r);return new Ps(r,l,t._key,s,new Sl(i.hasPendingWrites,i.fromCache),t.converter)}function S0(){return new np("serverTimestamp")}(function(t,i=!0){(function(l){so=l})(ro),Za(new Bs("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Hs(new N1(s.getProvider("auth-internal")),new M1(d,s.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new it(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Fr(sv,av,t),Fr(sv,av,"esm2020")})();var BI="firebase",qI="12.7.0";Fr(BI,qI,"app");function b0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jI=b0,w0=new jl("auth","Firebase",b0());const ih=new Rm("@firebase/auth");function HI(r,...t){ih.logLevel<=Dt.WARN&&ih.warn(`Auth (${ro}): ${r}`,...t)}function qc(r,...t){ih.logLevel<=Dt.ERROR&&ih.error(`Auth (${ro}): ${r}`,...t)}function Wn(r,...t){throw up(r,...t)}function Ii(r,...t){return up(r,...t)}function R0(r,t,i){const s={...jI(),[t]:i};return new jl("auth","Firebase",s).create(t,{appName:r.name})}function Ji(r){return R0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function up(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return w0.create(r,...t)}function dt(r,t,...i){if(!r)throw up(t,...i)}function Xi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw qc(t),new Error(t)}function er(r,t){r||Xi(t)}function Em(){return typeof self<"u"&&self.location?.href||""}function FI(){return sE()==="http:"||sE()==="https:"}function sE(){return typeof self<"u"&&self.location?.protocol||null}function GI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FI()||ob()||"connection"in navigator)?navigator.onLine:!0}function QI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,er(i>t,"Short delay should be less than long delay!"),this.isMobile=rb()||lb()}get(){return GI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cp(r,t){er(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class I0{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const KI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const YI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XI=new Zl(3e4,6e4);function ns(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function is(r,t,i,s,l={}){return C0(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=Hl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return ab()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&io(r.emulatorConfig.host)&&(_.credentials="include"),I0.fetch()(await D0(r,r.config.apiHost,i,p),_)})}async function C0(r,t,i){r._canInitEmulator=!1;const s={...KI,...t};try{const l=new JI(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw xc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw xc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw xc(r,"user-disabled",d);const A=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw R0(r,A,_);Wn(r,A)}}catch(l){if(l instanceof nr)throw l;Wn(r,"network-request-failed",{message:String(l)})}}async function Jl(r,t,i,s,l={}){const c=await is(r,t,i,s,l);return"mfaPendingCredential"in c&&Wn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function D0(r,t,i,s){const l=`${t}${i}?${s}`,c=r,d=c.config.emulator?cp(r.config,l):`${r.config.apiScheme}://${l}`;return YI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function ZI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),XI.get())})}}function xc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Ii(r,t,s);return l.customData._tokenResponse=i,l}function aE(r){return r!==void 0&&r.enterprise!==void 0}class $I{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return ZI(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WI(r,t){return is(r,"GET","/v2/recaptchaConfig",ns(r,t))}async function tC(r,t){return is(r,"POST","/v1/accounts:delete",t)}async function rh(r,t){return is(r,"POST","/v1/accounts:lookup",t)}function Dl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function eC(r,t=!1){const i=Ge(r),s=await i.getIdToken(t),l=hp(s);dt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Dl(Yd(l.auth_time)),issuedAtTime:Dl(Yd(l.iat)),expirationTime:Dl(Yd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Yd(r){return Number(r)*1e3}function hp(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const l=RE(i);return l?JSON.parse(l):(qc("Failed to decode base64 JWT payload"),null)}catch(l){return qc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function oE(r){const t=hp(r);return dt(t,"internal-error"),dt(typeof t.exp<"u","internal-error"),dt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Bl(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof nr&&nC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function nC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class iC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Tm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sh(r){const t=r.auth,i=await r.getIdToken(),s=await Bl(r,rh(t,{idToken:i}));dt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?N0(l.providerUserInfo):[],d=sC(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Tm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function rC(r){const t=Ge(r);await sh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function sC(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function N0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function aC(r,t){const i=await C0(r,{},async()=>{const s=Hl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await D0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:s};return r.emulatorConfig&&io(r.emulatorConfig.host)&&(y.credentials="include"),I0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function oC(r,t){return is(r,"POST","/v2/accounts:revokeToken",ns(r,t))}class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){dt(t.idToken,"internal-error"),dt(typeof t.idToken<"u","internal-error"),dt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):oE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){dt(t.length!==0,"internal-error");const i=oE(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(dt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await aC(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Ka;return s&&(dt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(dt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(dt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function Lr(r,t){dt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Yn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new iC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Tm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Bl(this,this.stsTokenManager.getToken(this.auth,t));return dt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return eC(this,t)}reload(){return rC(this)}_assign(t){this!==t&&(dt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Yn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await sh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Ji(this.auth));const t=await this.getIdToken();return await Bl(this,tC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:V,isAnonymous:F,providerData:Z,stsTokenManager:et}=i;dt(S&&et,t,"internal-error");const J=Ka.fromJSON(this.name,et);dt(typeof S=="string",t,"internal-error"),Lr(s,t.name),Lr(l,t.name),dt(typeof V=="boolean",t,"internal-error"),dt(typeof F=="boolean",t,"internal-error"),Lr(c,t.name),Lr(d,t.name),Lr(p,t.name),Lr(y,t.name),Lr(_,t.name),Lr(A,t.name);const ft=new Yn({uid:S,auth:t,email:l,emailVerified:V,displayName:s,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:_,lastLoginAt:A});return Z&&Array.isArray(Z)&&(ft.providerData=Z.map(Et=>({...Et}))),y&&(ft._redirectEventId=y),ft}static async _fromIdTokenResponse(t,i,s=!1){const l=new Ka;l.updateFromServerResponse(i);const c=new Yn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await sh(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];dt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?N0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ka;p.updateFromIdToken(s);const y=new Yn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Tm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const lE=new Map;function Zi(r){er(r instanceof Function,"Expected a class definition");let t=lE.get(r);return t?(er(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,lE.set(r,t),t)}class O0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}O0.type="NONE";const uE=O0;function jc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ya{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=jc(this.userKey,l.apiKey,c),this.fullPersistenceKey=jc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await rh(this.auth,{idToken:t}).catch(()=>{});return i?Yn._fromGetAccountInfoResponse(this.auth,i,t):null}return Yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Ya(Zi(uE),t,s);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Zi(uE);const d=jc(s,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const V=await rh(t,{idToken:A}).catch(()=>{});if(!V)break;S=await Yn._fromGetAccountInfoResponse(t,V,A)}else S=Yn._fromJSON(t,A);_!==c&&(p=S),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ya(c,t,s):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ya(c,t,s))}}function cE(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(U0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(V0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(P0(t))return"Blackberry";if(k0(t))return"Webos";if(M0(t))return"Safari";if((t.includes("chrome/")||x0(t))&&!t.includes("edge/"))return"Chrome";if(L0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function V0(r=Je()){return/firefox\//i.test(r)}function M0(r=Je()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function x0(r=Je()){return/crios\//i.test(r)}function U0(r=Je()){return/iemobile/i.test(r)}function L0(r=Je()){return/android/i.test(r)}function P0(r=Je()){return/blackberry/i.test(r)}function k0(r=Je()){return/webos/i.test(r)}function fp(r=Je()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function lC(r=Je()){return fp(r)&&!!window.navigator?.standalone}function uC(){return ub()&&document.documentMode===10}function z0(r=Je()){return fp(r)||L0(r)||k0(r)||P0(r)||/windows phone/i.test(r)||U0(r)}function B0(r,t=[]){let i;switch(r){case"Browser":i=cE(Je());break;case"Worker":i=`${cE(Je())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ro}/${s}`}class cC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function hC(r,t={}){return is(r,"GET","/v2/passwordPolicy",ns(r,t))}const fC=6;class dC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??fC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class mC{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hE(this),this.idTokenSubscription=new hE(this),this.beforeStateQueue=new cC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await rh(this,{idToken:t}),s=await Yn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await sh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=QI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(xn(this.app))return Promise.reject(Ji(this));const i=t?Ge(t):null;return i&&dt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&dt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return xn(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await hC(this),i=new dC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await oC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Zi(t)||this._popupRedirectResolver;dt(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(dt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=B0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&HI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Xs(r){return Ge(r)}class hE{constructor(t){this.auth=t,this.observer=null,this.addObserver=yb(i=>this.observer=i)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pC(r){Nh=r}function q0(r){return Nh.loadJS(r)}function gC(){return Nh.recaptchaEnterpriseScript}function yC(){return Nh.gapiScript}function _C(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class vC{constructor(){this.enterprise=new EC}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class EC{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const TC="recaptcha-enterprise",j0="NO_RECAPTCHA";class AC{constructor(t){this.type=TC,this.auth=Xs(t)}async verify(t="verify",i=!1){async function s(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{WI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new $I(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;aE(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(j0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(p=>{if(!i&&aE(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=gC();y.length!==0&&(y+=p),q0(y).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function fE(r,t,i,s=!1,l=!1){const c=new AC(r);let d;if(l)d=j0;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Am(r,t,i,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await fE(r,t,i,i==="getOobCode");return s(r,c)}else return s(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await fE(r,t,i,i==="getOobCode");return s(r,d)}else return Promise.reject(c)})}function SC(r,t){const i=Cm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(zs(c,t??{}))return l;Wn(l,"already-initialized")}return i.initialize({options:t})}function bC(r,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Zi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function wC(r,t,i){const s=Xs(r);dt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=H0(t),{host:d,port:p}=RC(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){dt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),dt(zs(_,s.config.emulator)&&zs(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,io(d)?(NE(`${c}//${d}${y}`),OE("Auth",!0)):IC()}function H0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function RC(r){const t=H0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:dE(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:dE(d)}}}function dE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function IC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class dp{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function CC(r,t){return is(r,"POST","/v1/accounts:signUp",t)}async function DC(r,t){return Jl(r,"POST","/v1/accounts:signInWithPassword",ns(r,t))}async function NC(r,t){return Jl(r,"POST","/v1/accounts:signInWithEmailLink",ns(r,t))}async function OC(r,t){return Jl(r,"POST","/v1/accounts:signInWithEmailLink",ns(r,t))}class ql extends dp{constructor(t,i,s,l=null){super("password",s),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new ql(t,i,"password")}static _fromEmailAndCode(t,i,s=null){return new ql(t,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(t,i,"signInWithPassword",DC);case"emailLink":return NC(t,{email:this._email,oobCode:this._password});default:Wn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(t,s,"signUpPassword",CC);case"emailLink":return OC(t,{idToken:i,email:this._email,oobCode:this._password});default:Wn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Xa(r,t){return Jl(r,"POST","/v1/accounts:signInWithIdp",ns(r,t))}const VC="http://localhost";class Fs extends dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Fs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Wn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Fs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Xa(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Xa(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Xa(t,i)}buildRequest(){const t={requestUri:VC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Hl(i)}return t}}function MC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xC(r){const t=_l(vl(r)).link,i=t?_l(vl(t)).deep_link_id:null,s=_l(vl(r)).deep_link_id;return(s?_l(vl(s)).link:null)||s||i||t||r}class mp{constructor(t){const i=_l(vl(t)),s=i.apiKey??null,l=i.oobCode??null,c=MC(i.mode??null);dt(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=xC(t);try{return new mp(i)}catch{return null}}}class co{constructor(){this.providerId=co.PROVIDER_ID}static credential(t,i){return ql._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const s=mp.parseLink(i);return dt(s,"argument-error"),ql._fromEmailAndCode(t,s.code,s.tenantId)}}co.PROVIDER_ID="password";co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class F0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class $l extends F0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Pr extends $l{constructor(){super("facebook.com")}static credential(t){return Fs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";class kr extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Fs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return kr.credential(i,s)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";class zr extends $l{constructor(){super("github.com")}static credential(t){return Fs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";class Br extends $l{constructor(){super("twitter.com")}static credential(t,i){return Fs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Br.credential(i,s)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";async function UC(r,t){return Jl(r,"POST","/v1/accounts:signUp",ns(r,t))}class Gs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Yn._fromIdTokenResponse(t,s,l),d=mE(s);return new Gs({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=mE(s);return new Gs({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function mE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class ah extends nr{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new ah(t,i,s,l)}}function G0(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(r,c,t,s):c})}async function LC(r,t,i=!1){const s=await Bl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Gs._forOperation(r,"link",s)}async function PC(r,t,i=!1){const{auth:s}=r;if(xn(s.app))return Promise.reject(Ji(s));const l="reauthenticate";try{const c=await Bl(r,G0(s,l,t,r),i);dt(c.idToken,s,"internal-error");const d=hp(c.idToken);dt(d,s,"internal-error");const{sub:p}=d;return dt(r.uid===p,s,"user-mismatch"),Gs._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Wn(s,"user-mismatch"),c}}async function Q0(r,t,i=!1){if(xn(r.app))return Promise.reject(Ji(r));const s="signIn",l=await G0(r,s,t),c=await Gs._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}async function kC(r,t){return Q0(Xs(r),t)}async function K0(r){const t=Xs(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function zC(r,t,i){if(xn(r.app))return Promise.reject(Ji(r));const s=Xs(r),d=await Am(s,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UC).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&K0(r),y}),p=await Gs._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function BC(r,t,i){return xn(r.app)?Promise.reject(Ji(r)):kC(Ge(r),co.credential(t,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&K0(r),s})}function qC(r,t,i,s){return Ge(r).onIdTokenChanged(t,i,s)}function jC(r,t,i){return Ge(r).beforeAuthStateChanged(t,i)}const oh="__sak";class Y0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const HC=1e3,FC=10;class X0 extends Y0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=z0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);uC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,FC):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},HC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}X0.type="LOCAL";const GC=X0;class Z0 extends Y0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Z0.type="SESSION";const J0=Z0;function QC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Oh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new Oh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await QC(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];function pp(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}class KC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=pp("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(S){const V=S;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function YC(r){Ci().location.href=r}function $0(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function XC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZC(){return navigator?.serviceWorker?.controller||null}function JC(){return $0()?self:null}const W0="firebaseLocalStorageDb",$C=1,lh="firebaseLocalStorage",tA="fbase_key";class Wl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Vh(r,t){return r.transaction([lh],t?"readwrite":"readonly").objectStore(lh)}function WC(){const r=indexedDB.deleteDatabase(W0);return new Wl(r).toPromise()}function Sm(){const r=indexedDB.open(W0,$C);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(lh,{keyPath:tA})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(lh)?t(s):(s.close(),await WC(),t(await Sm()))})})}async function pE(r,t,i){const s=Vh(r,!0).put({[tA]:t,value:i});return new Wl(s).toPromise()}async function t2(r,t){const i=Vh(r,!1).get(t),s=await new Wl(i).toPromise();return s===void 0?null:s.value}function gE(r,t){const i=Vh(r,!0).delete(t);return new Wl(i).toPromise()}const e2=800,n2=3;class eA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>n2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(JC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XC(),!this.activeServiceWorker)return;this.sender=new KC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ZC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Sm();return await pE(t,oh,"1"),await gE(t,oh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>pE(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>t2(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>gE(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Vh(l,!1).getAll();return new Wl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eA.type="LOCAL";const i2=eA;new Zl(3e4,6e4);function r2(r,t){return t?Zi(t):(dt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class gp extends dp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Xa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function s2(r){return Q0(r.auth,new gp(r),r.bypassAuthState)}function a2(r){const{auth:t,user:i}=r;return dt(i,t,"internal-error"),PC(i,new gp(r),r.bypassAuthState)}async function o2(r){const{auth:t,user:i}=r;return dt(i,t,"internal-error"),LC(i,new gp(r),r.bypassAuthState)}class nA{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return s2;case"linkViaPopup":case"linkViaRedirect":return o2;case"reauthViaPopup":case"reauthViaRedirect":return a2;default:Wn(this.auth,"internal-error")}}resolve(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const l2=new Zl(2e3,1e4);class Fa extends nA{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return dt(t,this.auth,"internal-error"),t}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const t=pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,l2.get())};t()}}Fa.currentPopupAction=null;const u2="pendingRedirect",Hc=new Map;class c2 extends nA{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Hc.get(this.auth._key());if(!t){try{const s=await h2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Hc.set(this.auth._key(),t)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h2(r,t){const i=m2(t),s=d2(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function f2(r,t){Hc.set(r._key(),t)}function d2(r){return Zi(r._redirectPersistence)}function m2(r){return jc(u2,r.config.apiKey,r.name)}async function p2(r,t,i=!1){if(xn(r.app))return Promise.reject(Ji(r));const s=Xs(r),l=r2(s,t),d=await new c2(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const g2=600*1e3;class y2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!iA(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ii(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=g2&&this.cachedEventUids.clear(),this.cachedEventUids.has(yE(t))}saveEventToCache(t){this.cachedEventUids.add(yE(t)),this.lastProcessedEventTime=Date.now()}}function yE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function iA({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function _2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iA(r);default:return!1}}async function v2(r,t={}){return is(r,"GET","/v1/projects",t)}const E2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T2=/^https?/;async function A2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await v2(r);for(const i of t)try{if(S2(i))return}catch{}Wn(r,"unauthorized-domain")}function S2(r){const t=Em(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!T2.test(i))return!1;if(E2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const b2=new Zl(3e4,6e4);function _E(){const r=Ci().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function w2(r){return new Promise((t,i)=>{function s(){_E(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_E(),i(Ii(r,"network-request-failed"))},timeout:b2.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)s();else{const l=_C("iframefcb");return Ci()[l]=()=>{gapi.load?s():i(Ii(r,"network-request-failed"))},q0(`${yC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Fc=null,t})}let Fc=null;function R2(r){return Fc=Fc||w2(r),Fc}const I2=new Zl(5e3,15e3),C2="__/auth/iframe",D2="emulator/auth/iframe",N2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V2(r){const t=r.config;dt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?cp(t,D2):`https://${r.config.authDomain}/${C2}`,s={apiKey:t.apiKey,appName:r.name,v:ro},l=O2.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Hl(s).slice(1)}`}async function M2(r){const t=await R2(r),i=Ci().gapi;return dt(i,r,"internal-error"),t.open({where:document.body,url:V2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N2,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Ii(r,"network-request-failed"),p=Ci().setTimeout(()=>{c(d)},I2.get());function y(){Ci().clearTimeout(p),l(s)}s.ping(y).then(y,()=>{c(d)})}))}const x2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U2=500,L2=600,P2="_blank",k2="http://localhost";class vE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z2(r,t,i,s=U2,l=L2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const y={...x2,width:s.toString(),height:l.toString(),top:c,left:d},_=Je().toLowerCase();i&&(p=x0(_)?P2:i),V0(_)&&(t=t||k2,y.scrollbars="yes");const A=Object.entries(y).reduce((V,[F,Z])=>`${V}${F}=${Z},`,"");if(lC(_)&&p!=="_self")return B2(t||"",p),new vE(null);const S=window.open(t||"",p,A);dt(S,r,"popup-blocked");try{S.focus()}catch{}return new vE(S)}function B2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const q2="__/auth/handler",j2="emulator/auth/handler",H2=encodeURIComponent("fac");async function EE(r,t,i,s,l,c){dt(r.config.authDomain,r,"auth-domain-config-required"),dt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:ro,eventId:l};if(t instanceof F0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",gb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof $l){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await r._getAppCheckToken(),_=y?`#${H2}=${encodeURIComponent(y)}`:"";return`${F2(r)}?${Hl(p).slice(1)}${_}`}function F2({config:r}){return r.emulator?cp(r,j2):`https://${r.authDomain}/${q2}`}const Xd="webStorageSupport";class G2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J0,this._completeRedirectFn=p2,this._overrideRedirectResult=f2}async _openPopup(t,i,s,l){er(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await EE(t,i,s,Em(),l);return z2(t,c,pp())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await EE(t,i,s,Em(),l);return YC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(er(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await M2(t),s=new y2(t);return i.register("authEvent",l=>(dt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Xd,{type:Xd},l=>{const c=l?.[0]?.[Xd];c!==void 0&&i(!!c),Wn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=A2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return z0()||M0()||fp()}}const Q2=G2;var TE="@firebase/auth",AE="1.12.0";class K2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Y2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X2(r){Za(new Bs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;dt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B0(r)},_=new mC(s,l,c,y);return bC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Za(new Bs("auth-internal",t=>{const i=Xs(t.getProvider("auth").getImmediate());return(s=>new K2(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(TE,AE,Y2(r)),Fr(TE,AE,"esm2020")}const Z2=300,J2=DE("authIdTokenMaxAge")||Z2;let SE=null;const $2=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>J2)return;const l=i?.token;SE!==l&&(SE=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function W2(r=UE()){const t=Cm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=SC(r,{popupRedirectResolver:Q2,persistence:[i2,GC,J0]}),s=DE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=$2(c.toString());jC(i,d,()=>d(i.currentUser)),qC(i,p=>d(p))}}const l=IE("auth");return l&&wC(i,`http://${l}`),i}function tD(){return document.getElementsByTagName("head")?.[0]??document}pC({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=Ii("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",tD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X2("Browser");const eD={apiKey:"AIzaSyAvafu1qukRmKhUE8O6jhNNIF2PiHj7bfY",authDomain:"request-system-c5730.firebaseapp.com",projectId:"request-system-c5730",storageBucket:"request-system-c5730.firebasestorage.app",messagingSenderId:"174073891284",appId:"1:174073891284:web:bef352061fdf9f1885ee41",measurementId:"G-RTNJFSFNVZ"},rA=xE(eD),bm=W2(rA),ks=bI(rA);function nD({userProfile:r}){const[t,i]=Xn.useState({type:"",description:""}),[s,l]=Xn.useState("");async function c(d){d.preventDefault();try{const p=bm.currentUser;if(!p){l("You must be logged in.");return}await zI(Wm(ks,"requests"),{employeeId:p.uid,employeeEmail:r.employeeEmail,employeeName:r.employeeName,type:t.type,description:t.description,status:"pending",dateSubmitted:S0(),archived:!1}),l("Request submitted successfully!"),i({type:"",description:" "})}catch(p){l("Error: "+p.message)}}return nt.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s&&nt.jsx("p",{className:"text-sm",children:s}),nt.jsx("input",{type:"text",placeholder:"Request Type",value:t.type,onChange:d=>i({...t,type:d.target.value}),className:"border p-2 w-full",required:!0}),nt.jsx("textarea",{placeholder:"Description",value:t.description,onChange:d=>i({...t,description:d.target.value}),className:"border p-2 w-full",required:!0}),nt.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Submit Request"})]})}function iD(){const[r,t]=Xn.useState([]);Xn.useEffect(()=>{const l=p0(Wm(ks,"requests"),g0("archived","==",!1),y0("dateSubmitted","asc")),c=T0(l,d=>{const p=d.docs.map(y=>({id:y.id,...y.data()}));t(p)});return()=>c()},[]);async function i(l,c){await rE(zl(ks,"requests",l),{status:c})}async function s(l){await rE(zl(ks,"requests",l),{archived:!0})}return nt.jsxs("div",{className:"mt-6",children:[nt.jsx("h2",{className:"text-xl font-bold mb-4",children:"Employer Dashboard"}),r.length===0?nt.jsx("p",{className:"text-gray-500",children:"No active requests."}):nt.jsx("div",{className:"overflow-x-auto",children:nt.jsxs("table",{className:"min-w-full border-collapse border border-gray-300",children:[nt.jsx("thead",{className:"bg-gray-100",children:nt.jsxs("tr",{children:[nt.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Employee"}),nt.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Type"}),nt.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Description"}),nt.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Status"}),nt.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Date Submitted"}),nt.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Actions"}),nt.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Archive"})]})}),nt.jsx("tbody",{children:r.map(l=>nt.jsxs("tr",{className:"hover:bg-gray-50",children:[nt.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-center",children:[l.employeeName||"Unknown"," (",l.employeeEmail||"No Email",")"]}),nt.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:l.type}),nt.jsx("td",{className:"border border-gray-300 px-4 py-2",children:l.description}),nt.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center font-semibold",children:nt.jsx("span",{className:`px-2 py-1 rounded text-sm ${l.status==="approved"?"bg-green-100 text-green-700":l.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:l.status})}),nt.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:l.dateSubmitted&&l.dateSubmitted.toDate?l.dateSubmitted.toDate().toLocaleString():"Pending..."}),nt.jsxs("td",{className:"border border-gray-300 px-4 py-2 text-center",children:[nt.jsx("button",{onClick:()=>i(l.id,"approved"),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded mr-2",children:"Approve"}),nt.jsx("button",{onClick:()=>i(l.id,"rejected"),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded",children:"Reject"})]}),nt.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:nt.jsx("button",{onClick:()=>s(l.id),className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded",children:"Archive"})})]},l.id))})]})})]})}function rD({userProfile:r}){const[t,i]=Xn.useState([]);return Xn.useEffect(()=>{if(!r)return;const s=p0(Wm(ks,"requests"),g0("employeeId","==",r.employeeId),y0("dateSubmitted","asc")),l=T0(s,c=>{const d=c.docs.map(p=>({id:p.id,...p.data()}));i(d)});return()=>l()},[r]),nt.jsxs("div",{className:"mt-6",children:[nt.jsx("h2",{className:"text-xl font-bold mb-4",children:"My Requests"}),t.length===0?nt.jsx("p",{className:"text-gray-500",children:"No requests submitted yet."}):nt.jsx("div",{className:"overflow-x-auto",children:nt.jsxs("table",{className:"min-w-full border-collapse border border-gray-300",children:[nt.jsx("thead",{className:"bg-gray-100",children:nt.jsxs("tr",{children:[nt.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Type"}),nt.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Description"}),nt.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Status"}),nt.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center",children:"Date Submitted"})]})}),nt.jsx("tbody",{children:t.map(s=>nt.jsxs("tr",{className:"hover:bg-gray-50",children:[nt.jsx("td",{className:"border border-gray-300 px-4 py-2",children:s.type}),nt.jsx("td",{className:"border border-gray-300 px-4 py-2",children:s.description}),nt.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center font-semibold",children:nt.jsx("span",{className:`px-2 py-1 rounded text-sm ${s.status==="approved"?"bg-green-100 text-green-700":s.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:s.status})}),nt.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:s.dateSubmitted?.toDate().toLocaleString()})]},s.id))})]})})]})}function sD({onLogin:r}){const[t,i]=Xn.useState({email:"",password:"",name:""}),[s,l]=Xn.useState(""),[c,d]=Xn.useState(!1);async function p(y){y.preventDefault();try{if(c){const A=(await zC(bm,t.email,t.password)).user;await kI(zl(ks,"users",A.uid),{role:"user",employeeEmail:A.email,employeeName:t.name,createdAt:S0()}),r({role:"user",employeeId:A.uid,employeeEmail:A.email,employeeName:t.name})}else{const A=(await BC(bm,t.email,t.password)).user,S=await PI(zl(ks,"users",A.uid));if(S.exists()){const V=S.data();r({role:V.role,employeeId:A.uid,employeeEmail:V.employeeEmail,employeeName:V.employeeName})}else l("No role/user found for this account.")}}catch(_){l(_.message)}}return nt.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-500",children:nt.jsxs("form",{onSubmit:p,className:"bg-white shadow-md rounded p-6 w-full max-w-sm space-y-4",children:[nt.jsx("h2",{className:"text-2xl font-bold text-center",children:c?"Create Account":"Login"}),s&&nt.jsx("p",{className:"text-red-500 text-sm",children:s}),nt.jsx("input",{type:"email",placeholder:"Email",value:t.email,onChange:y=>i({...t,email:y.target.value}),className:"border p-2 w-full rounded",required:!0}),nt.jsx("input",{type:"text",placeholder:"Full Name",value:t.name,onChange:y=>i({...t,name:y.target.value}),className:"border p-2 w-full rounded",required:!0}),nt.jsx("input",{type:"password",placeholder:"Password",value:t.password,onChange:y=>i({...t,password:y.target.value}),className:"border w-full p-2 rounded",required:!0}),nt.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 w-full rounded cursor-pointer",children:c?"Sign Up":"Login"}),nt.jsx("p",{className:"text-center text-sm",children:c?nt.jsxs(nt.Fragment,{children:["Already have an account?"," ",nt.jsx("button",{type:"button",onClick:()=>d(!1),className:"text-blue-500 underline cursor-pointer",children:"Login"})]}):nt.jsxs(nt.Fragment,{children:["Don't have an account?"," ",nt.jsx("button",{type:"button",onClick:()=>d(!0),className:"text-blue-500 underline cursor-pointer",children:"Sign Up"})]})})]})})}function aD(){const[r,t]=Xn.useState(null);function i(s){t(s)}return nt.jsx("div",{className:"p-6",children:r?r.role==="admin"?nt.jsx(iD,{userProfile:r}):nt.jsxs(nt.Fragment,{children:[nt.jsx(nD,{userProfile:r}),nt.jsx(rD,{userProfile:r})]}):nt.jsx(sD,{onLogin:i})})}FS.createRoot(document.getElementById("root")).render(nt.jsx(Xn.StrictMode,{children:nt.jsx(aD,{})}));
